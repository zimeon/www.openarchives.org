<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>ORE User Guide - Resource Map Discovery</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="http://www.openarchives.org/ore/favicon.ico" type="image/x-icon" />
<link rel="stylesheet" type="text/css" href="http://www.openarchives.org/ore/0.1/ore-spec.css" />
</head>

<body>
<div id="float-warning">
DO NOT USE, SEE <a href="http://www.openarchives.org/ore/toc">CURRENT ORE SPECIFICATIONS</a>
</div>
<div id="header">
  <table class="layout" summary="Logos and OAI-ORE title">
    <tr>
      <td><img alt="OAI logo" src="/images/OA100.gif" width="100" height="70" /></td>
      <td class="OREtext">Open Archives Initiative<br />Object Reuse and Exchange</td>
      <td><img alt="ORE logo" src="/ore/logos/ore_logo_e_80.png" width="80" height="80" /></td>
    </tr>
  </table>
</div>
<div id="titleBlock">
  <h2 class="title">ORE User Guide - Resource Map Discovery</h2>
  <h3 class="subTitle">10 December 2007</h3>
</div>
<div id="alpha-warning">
<p>DO NOT USE THIS SPECIFICATION, see instead the 
<a href="http://www.openarchives.org/ore/toc">CURRENT ORE SPECIFICATIONS</a>.</p>
<p>This document was part of an alpha release and has been superseded.</p>
</div>
<dl>
  <dt>This version:</dt>
  <dd><a href="http://www.openarchives.org/ore/0.1/discovery">http://www.openarchives.org/ore/0.1/discovery</a></dd>
  <dt>Latest version:</dt>
  <dd><a href="http://www.openarchives.org/ore/discovery">http://www.openarchives.org/ore/discovery</a></dd>
  <dt>Previous version:</dt>
  <dd>none</dd>
</dl>
<dl class="EditorsContributors">
  <dt>Editors (OAI Executive)</dt>
  <dd>Carl Lagoze, Cornell University Information Science</dd>
  <dd>Herbert Van de Sompel, Los Alamos National Laboratory</dd>
  <dt>Editors (ORE Technical Committee)</dt>
  <dd>Pete Johnston, Eduserv Foundation</dd>
  <dd>Michael Nelson, Old Dominion University</dd>
  <dd>Robert Sanderson, University of Liverpool</dd>
  <dd>Simeon Warner, Cornell University Information Science</dd>
</dl>

<!--END-HEADER-->
<!--VAR-TITLE=ORE User Guide - Resource Map Discovery-->
<!--VAR-SUBTITLE=10 December 2007-->
<!--VAR-THISURI=http://www.openarchives.org/ore/0.1/discovery-->
<!--VAR-LATESTURI=http://www.openarchives.org/ore/discovery-->

<div class="abstract">
<h2><a name="abstract" id="abstract"></a>Abstract</h2>
        <p>Crawlers or harvesters must discover <span
        class="definition">Resource Maps</span> (<span
        class="definition">ReMs</span>) before the aggregations described
        by them can be understood.  ReMs can be discovered in any number
        of ways and this document discusses some of the recommended
        discovery mechanisms.  Other discovery mechanisms may evolve over
        time and vary based on the practices of particular communities.
This user guide is one of several documents comprising the
<a href="http://www.openarchives.org/ore/0.1/toc">OAI-ORE specification and
user guide</a>.</p>
</div>

<hr />
<div class="toc">
<h2><a name="contents" id="contents"></a>Table of Contents</h2>
<p class="toc">
1. <a href="#Introduction">Introduction</a><br />
&nbsp;&nbsp;&nbsp;&nbsp; 1.1 <a href="#notation">Notational Conventions</a><br />
2. <a href="#BatchDiscovery">Batch Discovery</a><br />
&nbsp;&nbsp;&nbsp;&nbsp; 2.1 <a href="#ReMsinOAI-PMH">ReMs in OAI-PMH</a><br />
&nbsp;&nbsp;&nbsp;&nbsp; 2.2 <a href="#ReMsinSiteMaps">ReMs in SiteMaps</a><br />
&nbsp;&nbsp;&nbsp;&nbsp; 2.3 <a href="#ReMsinSyndicationFeeds">ReMs in Syndication Feeds</a><br />
&nbsp;&nbsp;&nbsp;&nbsp; 2.4 <a href="#CombiningOAI-PMHwithOtherApproaches">Combining OAI-PMH with Other Approaches</a><br />
3. <a href="#ResourceEmbedding">Resource Embedding</a><br />
&nbsp;&nbsp;&nbsp;&nbsp; 3.1 <a href="#HTMLLinkElement">HTML Link Element</a><br />
&nbsp;&nbsp;&nbsp;&nbsp; 3.2 <a href="#HTMLAandIMGElements">HTML A and IMG Elements</a><br />
&nbsp;&nbsp;&nbsp;&nbsp; 3.3 <a href="#Non-HTMLResources">Non-HTML Resources</a><br />
&nbsp;&nbsp;&nbsp;&nbsp; 3.4 <a href="#ShowingReMsinHTMLPages">Showing ReMs in HTML Pages</a><br />
4. <a href="#ResponseEmbedding">Response Embedding</a><br />
&nbsp;&nbsp;&nbsp;&nbsp; 4.1 <a href="#HTTPLinkHeader">HTTP Link Header</a><br />
5. <a href="#MethodsNotRecommendedforReMDiscovery">Methods Not Recommended for ReM Discovery</a><br />
&nbsp;&nbsp;&nbsp;&nbsp; 5.1 <a href="#ReMsinSimpleFiles">ReMs in Simple Files</a><br />
&nbsp;&nbsp;&nbsp;&nbsp; 5.2 <a href="#URIConflation">URI Conflation</a><br />
6. <a href="#References">References</a></p>

<h3><a name="appendices" id="appendices"></a>Appendices</h3>
<p class="toc">A. <a href="#acknowledgments">Acknowledgments</a><br />
B. <a href="#changelog">Change Log</a></p>
</div>

<hr />
<div class="body">
<h2><a name="Introduction" id="Introduction"></a>1. Introduction</h2>
        <p>
        <span class="definition">Resource Map </span>(<span
        class="definition">ReMs</span>) discovery is a precondition
        of use.  There is no single, best method for discovering
        ReMs.  This document covers a variety of suggested ReM
        discovery mechanisms, grouped into the categories of: <span
        class="definition">Batch Discovery</span>, <span class="definition">Resource
        Embedding</span> and <span class="definition">Response
        Embedding</span> and examples are explored for each category. 
        Additional categories and examples are expected to evolve over
        time.
        </p>

<h3><a name="notation" id="notation"></a>1.1 Notational Conventions</h3>
        <p>The keywords &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHALL&quot;, &quot;SHALL NOT&quot;, &quot;SHOULD&quot;,
                &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;, &quot;MAY&quot;, and &quot;OPTIONAL&quot; in this document are
                to be interpreted as described in RFC 2119 [<cite><a href="#RFC2119">IETF
                RFC 2119</a></cite>].</p>


<h2><a name="BatchDiscovery" id="BatchDiscovery"></a>2. Batch Discovery</h2>
        <p>
        Batch discovery exists so agents can discover ReMs en masse.
        Note that ReMs are not limited to describing aggregations on the
        server where the ReMs reside.  Although ReMs can be serialized
        in a number of formats, the initial serialization is in the Atom
        Syndication Format [<cite><a href="#RFC4287">RFC4287</a></cite>].
        Thus, in each section a table is provided to clearly map between
        concepts of identification and datestamps between the transport
        protocol/format and the Resource Map Profile of Atom [<cite><a
        href="#ReMProfileofAtom">ReMProfileofAtom</a></cite>].
        </p>

<h3><a name="ReMsinOAI-PMH"></a>2.1 ReMs in OAI-PMH</h3>
        <p>
        It is possible to define a new <code>metadataPrefix</code> in the Open Archives
        Initiative Protocol for Metadata Harvesting (OAI-PMH)[<cite><a href="#OAI-PMH">OAI-PMH</a></cite>]
        that contains ReMs.  For example, this OAI-PMH request:
        </p>
        <p>
        <code>http://www.foo.edu/oai?verb=GetRecord&amp;identifier=oai:foo.edu:object1&amp;metadataPrefix=oai_rem</code>
        </p>
        <p>
        Would yield this response:
        </p>
<div class="exampleInner">
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;OAI-PMH xmlns="http://www.openarchives.org/OAI/2.0/"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://www.openarchives.org/OAI/2.0/
         http://www.openarchives.org/OAI/2.0/OAI-PMH.xsd"&gt;
  &lt;responseDate&gt;2007-02-08T08:55:46Z&lt;/responseDate&gt;
  &lt;request verb="GetRecord" identifier="oai:foo.edu:object1"
           metadataPrefix="oai_rem"&gt;http://foo.edu/oai2&lt;/request&gt;
  &lt;GetRecord&gt;
   &lt;record&gt;
    &lt;header&gt;
      &lt;identifier&gt;oai:foo.edu:object1&lt;/identifier&gt;
      &lt;datestamp&gt;2007-01-06&lt;/datestamp&gt;
    &lt;/header&gt;
    &lt;metadata&gt;
        &lt;!-- Insert ReM here --&gt;
    &lt;/metadata&gt;
  &lt;/record&gt;
 &lt;/GetRecord&gt;
&lt;/OAI-PMH&gt;
</pre>
</div>

<table border="1" summary="Atom ReMs Discovered via OAI-PMH">
<caption>Table 1: Atom ReMs Discovered via OAI-PMH</caption>
 <tr>
  <th>Identification</th>
  <td>OAI-PMH <code>record/header/identifier</code> MUST NOT equal either ReM Atom <code>/feed/id</code> or <code>/feed/link[@rel="self"]/@href</code></td>
 </tr>
 <tr>
  <th>Datestamp</th>
  <td>OAI-PMH <code>record/header/datestamp</code> MUST be equal to ReM Atom <code>/feed/updated</code></td>
 </tr>
</table>


<h3><a name="ReMsinSiteMaps"></a>2.2 ReMs in SiteMaps</h3>
        <p>
        It is possible to construct a SiteMap [<cite><a
        href="#SiteMap">SiteMap</a></cite>] that consists of just ReMs,
        or possibly includes ReMs in its list of regular resources.
        For example, dereferencing this SiteMap URI:
        </p>
        <p>
        <code>http://www.foo.edu/sitemap-rem.xml</code>
        </p>
        <p>
        Would yield this response:
        </p>
<div class="exampleInner">
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"&gt;
   &lt;url&gt;
      &lt;loc&gt;http://www.foo.edu/objects/object1.atom&lt;/loc&gt;
      &lt;lastmod&gt;2007-01-06&lt;/lastmod&gt;
   &lt;/url&gt;
   &lt;url&gt;
      &lt;loc&gt;http://www.foo.edu/objects/object2.atom&lt;/loc&gt;
      &lt;lastmod&gt;2007-08-11&lt;/lastmod&gt;
      &lt;changefreq&gt;weekly&lt;/changefreq&gt;
   &lt;/url&gt;
   &lt;url&gt;
      &lt;loc&gt;http://www.foo.edu/objects/object3.atom&lt;/loc&gt;
      &lt;lastmod&gt;2007-03-15T18:30:02Z&lt;/lastmod&gt;
      &lt;priority&gt;0.3&lt;/priority&gt;
   &lt;/url&gt;
...
&lt;/urlset&gt;
</pre>
</div>

        <p>
        Note that SiteMaps have a URI path hierarchy limitation for the resources
        for which they can describe.  For example, this SiteMap:
        </p>
        <p>
        <code>http://www.foo.edu/a/b/sitemap-rem.xml</code>
        </p>
        <p>
        Can list the ReMs:
        </p>
        <p>
        <code>http://www.foo.edu/a/b/bar2.atom</code>
        </p>
        <p>
        and
        </p>
        <p>
        <code>http://www.foo.edu/a/b/c/bar3.atom</code>
        </p>
        <p>
        But not:
        </p>
        <p>
        <code>http://www.foo.edu/bar1.atom</code>
        </p>

<table border="1" summary="Atom ReMs Discovered via SiteMap">
        <caption>Table 2: Atom ReMs Discovered via SiteMap</caption>
        <tr>
        <th>Identification</th>
        <td>SiteMap <code>/urlset/url/loc</code> MUST equal <code>/feed/link[@rel="self"]/@href</code> for corresponding ReM, but MUST NOT equal <code>/feed/id</code></td>
        </tr>
        <tr>
        <th>Datestamp</th>
        <td>When present, SiteMap <code>/urlset/url/lastmod</code> MUST be equal to ReM Atom <code>/feed/updated</code></td>
        </tr>
</table>


<h3><a name="ReMsinSyndicationFeeds"></a>2.3 ReMs in Syndication Feeds</h3>
        <p>
        Even though the preliminary serialization of ReMs is in
        the Atom Syndication Format, there is no reason preventing
        the use of syndication formats such as Atom or RSS [<cite><a
        href="#RSS">RSS</a></cite>] for ReM discovery.  However, care
        must be taken to separate conceptually the Resource Map from
        the syndication file listing the Resource Maps.  In particular,
        the id of an Atom entry listing the URI of a Resource Map MUST
        be neither the URI of the Resource Map nor the Atom feed id of
        the Resource Map.  Furthermore, an explicit difference must be
        made between the Atom feed used for discovery and the Atom feed
        that is the ReM.  For example, this Atom Feed:
        </p>
        <p>
        <code>http://www.foo.edu/all-rems.atom</code>
        </p>
        <p>
        When dereferenced would yield:
        </p>


<div class="exampleInner">
<!--START-ESCAPEINCLUDEPRE=discovery-examples/ex2_3a.xml-->
<pre>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;feed xmlns="http://www.w3.org/2005/Atom"&gt;

 &lt;title&gt;ReMs at www.foo.edu&lt;/title&gt;
 &lt;link href="http://www.foo.edu/" /&gt;
 &lt;link href="http://www.foo.edu/all-rems.atom" rel="self"/&gt;
 &lt;updated&gt;2007-08-15T18:30:02Z&lt;/updated&gt;
 &lt;author&gt;
   &lt;name&gt;John Doe&lt;/name&gt;
   &lt;email&gt;johndoe@foo.edu&lt;/email&gt;
 &lt;/author&gt;
 &lt;id&gt;urn:uuid:60a76c80-d399-11d9-b91C-0003939e0af6&lt;/id&gt;

 &lt;entry&gt;
   &lt;title&gt;ReM For Object1&lt;/title&gt;
   &lt;link href="http://www.foo.org/objects/object1.atom"/&gt;
   &lt;id&gt;urn:uuid:1225c695-cfb8-4ebb-aaaa-80da344efa6a&lt;/id&gt;
   &lt;updated&gt;2007-01-06T00:00:00Z&lt;/updated&gt;
 &lt;/entry&gt;

 &lt;entry&gt;
   &lt;title&gt;ReM For Object2&lt;/title&gt;
   &lt;link href="http://www.foo.org/objects/object2.atom"/&gt;
   &lt;id&gt;urn:uuid:9a2cc699-ccba-9e8b-132e-91da394e9a5c&lt;/id&gt;
   &lt;updated&gt;2007-08-11T00:00:00Z&lt;/updated&gt;
 &lt;/entry&gt;

 &lt;entry&gt;
   &lt;title&gt;ReM For Object3&lt;/title&gt;
   &lt;link href="http://www.foo.org/objects/object3.atom"/&gt;
   &lt;id&gt;urn:uuid:5225c895-cab8-8ebb-baaa-90da9d4efa6b&lt;/id&gt;
   &lt;updated&gt;2007-03-15T18:30:02Z&lt;/updated&gt;
 &lt;/entry&gt;

&lt;/feed&gt;
</pre>
<!--END-ESCAPEINCLUDEPRE=discovery-examples/ex2_3a.xml-->
</div>

<table border="1" summary="Atom ReMs Discovered via Atom">
<caption>Table 3: Atom ReMs Discovered via Atom</caption>
 <tr>
  <th>Identification</th>
  <td>Syndication Atom <code>/feed/entry/id</code> MUST NOT equal ReM Atom <code>/feed/id</code>;<br />
      Syndication Atom <code>/feed/entry/link/@href</code> MUST equal ReM Atom <code>/feed/link[@rel="self"]/@href</code></td>
 </tr>
 <tr>
  <th>Datestamp</th>
  <td>Syndication Atom <code>/feed/entry/updated</code> MUST equal ReM Atom <code>/feed/updated</code></td>
 </tr>
</table>

        <p>
        The same ReMs could be exposed via RSS 2.0.  For example,
        this RSS feed:
        </p>
        <p>
        <code>http://www.foo.edu/all-rems.rss</code>
        </p>
        <p>
        When dereferenced would yield:
        </p>

<div class="exampleInner">
<!--START-ESCAPEINCLUDEPRE=discovery-examples/ex2_3b.xml-->
<pre>
&lt;?xml version="1.0"?&gt;
&lt;rss version="2.0"&gt;
  &lt;channel&gt;
    &lt;title&gt;ReMs at www.foo.edu&lt;/title&gt;
    &lt;link&gt;http://www.foo.edu/&lt;/link&gt;
    &lt;description&gt;All of the Resource Maps for resources at www.foo.edu&lt;/description&gt;
  
    &lt;item&gt;
      &lt;title&gt;ReM for Object 1&lt;/title&gt;
      &lt;link&gt;http://www.foo.org/objects/object1.atom&lt;/link&gt;
      &lt;description&gt;ReM for Object 1&lt;/description&gt;
      &lt;pubDate&gt;Sat, 06 Jan 2007 00:00:00 GMT&lt;/pubDate&gt;
    &lt;/item&gt;
  
    &lt;item&gt;
      &lt;title&gt;ReM for Object 2&lt;/title&gt;
      &lt;link&gt;http://www.foo.org/objects/object2.atom&lt;/link&gt;
      &lt;description&gt;ReM for Object 2&lt;/description&gt;
      &lt;pubDate&gt;Sat, 11 Aug 2007 00:00:00 GMT&lt;/pubDate&gt;
    &lt;/item&gt;

    &lt;item&gt;
      &lt;title&gt;ReM for Object 3&lt;/title&gt;
      &lt;link&gt;http://www.foo.org/objects/object2.atom&lt;/link&gt;
      &lt;description&gt;ReM for Object 3&lt;/description&gt;
      &lt;pubDate&gt;Thu, 15 Mar 2007 08:30:02 GMT&lt;/pubDate&gt;
    &lt;/item&gt;
   
  &lt;/channel&gt;
&lt;/rss&gt;
</pre>
<!--END-ESCAPEINCLUDEPRE=discovery-examples/ex2_3b.xml-->
</div>

<table border="1" summary="Atom ReMs Discovered via RSS">
<caption>Table 4: Atom ReMs Discovered via RSS</caption>
 <tr>
  <th>Identification</th>
  <td>RSS 2.0 <code>/rss/item/link</code> MUST NOT equal ReM Atom <code>/feed/id</code>;<br />
      RSS 2.0 <code>/rss/item/link</code> MUST equal ReM Atom <code>/feed/link[@rel="self"]/@href</code></td>
 </tr>
 <tr>
  <th>Datestamp</th>
  <td>RSS 2.0 <code>/rss/item/pubDate</code> MUST equal ReM Atom <code>/feed/updated</code> (after conversion
      from RFC-822 format to ISO 8601 format)</td>
 </tr>
</table>

<h3><a name="CombiningOAI-PMHwithOtherApproaches"></a>2.4 Combining OAI-PMH with Other Approaches</h3>
        <p>
        Resource Map Documents [<cite><a href="#ORE_Model">ORE
        Model</a></cite>] can be included as metadata records in
        an OAI-PMH response.  However, the OAI-PMH constructs
        must be removed before the Resource Map Document can
        be used as such.  This has implications with respect
        to embedding the Resource Map in a resource (discussed <a
        href="#ResourceEmbedding">below</a>).  OAI-PMH repositories issue
        OAI-PMH responses of MIME type <code>text/xml</code>
        or <code>application/xml</code>.  These
        OAI-PMH responses must be processed into ReM responses
        (currently in Atom Syndication Format and of MIME type
        <code>application/atom+xml</code>).  We envision these
        services taking an OAI-PMH GetRecord request as an argument,
        such as:
        </p>
        <p>
        <code>http://some.gateway.org/pmh2ore?=http://foo.edu/oai2?verb=GetRecord&amp;metadataPefix=oai_rem&amp;identifier=oai:foo.edu:object1</code>
        </p>
        <p>
        OCLC has already developed one such service.  It takes an OAI-PMH
        GetRecord URI as an argument and strips out out the OAI-PMH
        elements, leaving only the child element of the OAI-PMH's
        <code>&lt;metadata&gt;</code> element.  For example, this
        OAI-PMH GetRecord request:
        </p>
        <p>
        <code>http://alcme.oclc.org/oaicat/OAIHandler?verb=GetRecord&amp;metadataPrefix=oai_dc&amp;identifier=oai:oaicat.oclc.org:2002/ocm11992160</code>
        </p>
        <p>
        When submitted as an argument to the OCLC service, produces just the
        <code>&lt;oai_dc&gt;</code> element:
        </p>
        <p>
        <code>http://purl.org/OAIUtil?getRecordURL=http://alcme.oclc.org/oaicat/OAIHandler?verb=GetRecord&amp;metadataPrefix=oai_dc&amp;identifier=oai:oaicat.oclc.org:2002/ocm11992160</code>
        </p>
        <p>
        The values of the OAI-PMH <code>&lt;responseDate&gt;</code> 
        and <code>&lt;request&gt;</code> elements are retained as
        HTTP response headers.  The above example could also be combined
        with syndication formats.  For example, if a repository has its
        ReMs in OAI-PMH, it could export the ReMs in an Atom Feed for
        applications that are not OAI-PMH aware:
        </p>

<div class="exampleInner">
<!--START-ESCAPEINCLUDEPRE=discovery-examples/ex2_4.xml-->
<pre>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;feed xmlns="http://www.w3.org/2005/Atom"&gt;

 &lt;title&gt;ReMs at www.foo.edu&lt;/title&gt;
 &lt;link href="http://www.foo.edu/" /&gt;
 &lt;link href="http://www.foo.edu/all-rems.atom" rel="self"/&gt;
 &lt;updated&gt;2007-08-15T18:30:02Z&lt;/updated&gt;
 &lt;author&gt;
   &lt;name&gt;John Doe&lt;/name&gt;
   &lt;email&gt;johndoe@foo.edu&lt;/email&gt;
 &lt;/author&gt;
 &lt;id&gt;urn:uuid:60a76c80-d399-11d9-b91C-0003939e0af6&lt;/id&gt;

 &lt;entry&gt;
   &lt;title&gt;ReM For Object1&lt;/title&gt;
   &lt;link href="http://purl.org/OAIUtil?getRecordURL=http://foo.edu/oai2?verb=GetRecord&amp;amp;metadataPefix=oai_rem&amp;amp;identifier=oai:foo.edu:object1"/&gt;
   &lt;id&gt;urn:uuid:1225c695-cfb8-4ebb-aaaa-80da344efa6a&lt;/id&gt;
   &lt;updated&gt;2007-01-06T00:00:00Z&lt;/updated&gt;
 &lt;/entry&gt;

 &lt;entry&gt;
   &lt;title&gt;ReM For Object2&lt;/title&gt;
   &lt;link href="http://purl.org/OAIUtil?getRecordURL=http://foo.edu/oai2?verb=GetRecord&amp;amp;metadataPefix=oai_rem&amp;amp;identifier=oai:foo.edu:object1"/&gt;
   &lt;id&gt;urn:uuid:9a2cc699-ccba-9e8b-132e-91da394e9a5c&lt;/id&gt;
   &lt;updated&gt;2007-08-11T00:00:00Z&lt;/updated&gt;
 &lt;/entry&gt;

 &lt;entry&gt;
   &lt;title&gt;ReM For Object3&lt;/title&gt;
   &lt;link href="http://purl.org/OAIUtil?getRecordURL=http://foo.edu/oai2?verb=GetRecord&amp;amp;metadataPefix=oai_rem&amp;amp;identifier=oai:foo.edu:object1"/&gt;
   &lt;id&gt;urn:uuid:5225c895-cab8-8ebb-baaa-90da9d4efa6b&lt;/id&gt;
   &lt;updated&gt;2007-03-15T18:30:02Z&lt;/updated&gt;
 &lt;/entry&gt;

&lt;/feed&gt;
</pre>
<!--END-ESCAPEINCLUDEPRE=discovery-examples/ex2_4.xml-->
</div>

<h2><a name="ResourceEmbedding" id="ResourceEmbedding"></a>3. Resource Embedding</h2>
        <p>
        A common scenario for ReM discovery is for a human readable
        page in an aggregation to link to its corresponding ReM.
        This is most commonly accomplished using the HTML link element
        [<cite><a href="#HTML">HTML</a></cite>].  Alternatively, HTML A
        and IMG elements may point to ReMs, or the URI of the ReM can
        be exposed as an opaque string for human agents to paste into
        ORE-aware utilities.
        </p>
        <p>
        We also envision the future availability of browser utilities
        such as Mozilla plugins that detect the presence of corresponding
        ReMs when embedded in resources and help guide the user in the
        (re)use of the aggregated resources.
        </p>

<h3><a name="HTMLLinkElement"></a>3.1 HTML Link Element </h3>
        <p>
        The HTML link element can be used to direct agents from the aggregated
        HTML file to a corresponding ReM which describes the aggregation to
        which the HTML file is part.  While this is a common case, there
        are actually four different scenarios regarding members of an aggregation
        and knowledge about their corresponding ReMs:
        </p>
        <ol>
                <li><span class="definition">Full knowledge</span>: the ReM is linked to by all resources in the aggregation.</li>
                <li><span class="definition">Indirect knowledge</span>: all but one of the resources in the aggregation link to a single, unique resource in the aggregation, which in turn links to the ReM.</li>
                <li><span class="definition">Limited knowledge</span>: only a subset of the resources in the aggregation
(typically just a single resource) link to the ReM, and the remainder of the resources
have no links at all.</li>
                <li><span class="definition">Zero knowledge</span>: none of the resources in the aggregation link to
a ReM.</li>
        </ol>
        <p>
        Note that the above scenarios are relative to a particular ReM.
        It is possible for aggregated resources to simultaneously have
        full knowledge about one ReM (typically authored by the same
        creators of the resources) and have zero knowledge about third
        party ReMs that describe aggregations of the same resources.
        Below is an example of how an HTML page could link to its
        corresponding ReM.  Assuming this HTML page associated JPEGs form
        the aggregation, and the JPEGS do not use HTTP headers to link to
        the corresponding ReM (see below), this is an example of a limited
        knowledge scenario since only this HTML page links to the ReM.
        </p>

<div class="exampleInner">
<pre>&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Hello World.&lt;/title&gt;
&lt;link href="http://example.net/hw.atom" type="application/atom+xml" rel="resourcemap" &gt;
&lt;/head&gt;
&lt;body&gt;
&lt;img src="hello.jpeg"&gt;
&lt;img src="world.jpeg"&gt;
&lt;/html&gt;
</pre>
</div>

        <p>
        In the above example, the HTML page links only to a single
        ReM.  It could link to multiple ReMs, in which case it is the
        responsibility of the agent to differentiate the two aggregations.
        Next we consider an example where an HTML page is aware that it
        is aggregated, but does not the location of its ReM.  Instead,
        it links to a page that does know the location of the ReM.
        There could be any number of these redirections.  It is up to
        the author or maintainer of the resources and ReMs to choose
        which scenario best fits their usage profile.
        </p>

<div class="exampleInner">
<pre>&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Chapter Twelve.&lt;/title&gt;
&lt;link href="http://mybook.com/toc.html" type="text/html" rel="indirectresourcemap" &gt;
&lt;/head&gt;
&lt;body&gt;
Welcome to chapter twelve... 
&lt;/body&gt;
&lt;/html&gt;
</pre>
</div>

        <p>
        Since the HTML specification defines the values of rel attributes to
        be CDATA, we can use values of "resourcemap" and "indirectresourcemap"
        and still have valid XHTML.
        </p>


<h3><a name="HTMLAandIMGElements"></a>3.2 HTML A and IMG Elements</h3>

<div class="open-issue" id="Links_in_HTML_pages">HTML does not provide appropriate
attributes in the A and IMG elements to link to a Resource Map as well as the target 
resource. This section suggests either the addition of extra attributes to the A and IMG 
elements (which would make otherwise valid HTML documents invalid), or re-purposing
an existing attribute.</div>

        <p>
        A similar but different scenario is when it is desirable to
        acknowledge relationships to other Aggregations [<cite><a href="#ORE_Model">ORE
        Model</a></cite>].  In this scenario, we wish to cite not the ReM
        that describes the aggregation containing the current HTML page,
        but rather we wish to cite the ReM that describes the aggregation
        where the resource we are linking to (with the A or IMG elements)
        was originally discovered.  This is accomplished using a separate
        attribute for the A or IMG elements.  The example below shows
        how an HTML page cites the ReMs used to discover a PDF document
        about frogs and toads as well as examples images of each.
        </p>


<div class="exampleInner">
<pre>&lt;html&gt; 
...   
Here is a helpful reference for distinguishing 
&lt;a href="http://example.org/pics/f-t.pdf" 
resourcemap="http://example.org/amphibians.atom"&gt;frogs vs. toads&lt;/a&gt;.  
&lt;p&gt; 
Here is a frog
&lt;img src="http://weluvfrogs.org/imgs/frog12.jpeg"
resourcemap="http://frogs.org/frogs.atom"&gt; 
and here is a toad &lt;img src="http://toadsrule.org/toad.gif"
resourcemap="http://toadsrule.org/toads.atom"&gt;.  
...  
&lt;/html&gt;
</pre>
</div>

        <p>
        This approach uses the non-standard attribute <code>resourcemap</code>.  This can be used to provide
        hints to the ORE-aware user-agent, but is not guaranteed
        to be recognized, and is not valid XHTML.  The only way to
        unambiguously link to other Aggregations or ReMs is to create a new ReM.
        See [<cite><a href="#ORE_User_Resource_Map">ORE User Guide
        Resource Map</a></cite>] for how to do this.
        </p>

	<p>
	Another approach to specifying the appropriate Resource Map without introducing
	a non-standard HTML attribute would be to place the Resource Map URI in an
	existing HTML attribute.  For example, the <code>rel</code> attribute for the 
	<code>A</code> element takes a space separated list of values in which we 
	could place the Resource Map, but the <code>IMG</code> element does not share
	this attribute.  Below is an example of how the Resource Map URI could be 
	placed in the <code>rel</code> attribute, with the <code>IMG</code> elments
	placed inside a <code>A</code> element (with no <code>href</code> attribute).
        </p>

<div class="exampleInner">
<pre>&lt;html&gt; 
...   
Here is a helpful reference for distinguishing 
&lt;a href="http://example.org/pics/f-t.pdf" 
rel="resourcemap=http://example.org/amphibians.atom"&gt;frogs vs. toads&lt;/a&gt;.  
&lt;p&gt; 
Here is a frog
&lt;a rel="resourcemap=http://frogs.org/frogs.atom"&gt; 
&lt;img src="http://weluvfrogs.org/imgs/frog12.jpeg"&gt;
&lt;/a&gt; and here is a toad 
&lt;a rel="resourcemap=http://toadsrule.org/toads.atom"&gt;
&lt;img src="http://toadsrule.org/toad.gif"&gt;
&lt;/a&gt;.
...  
&lt;/html&gt;
</pre>
</div>

        <a name="Non-HTMLResources"></a><h3>3.3 Non-HTML Resources</h3>
        <p>
        It may be possible to embed links to ReMs in non-HTML resources, such as PDF
        or images, but these methods are considered too preliminary to discuss at this
        time.
        </p>

        <a name="ShowingReMsinHTMLPages"></a><h3>3.4 Showing ReMs in HTML Pages</h3>
        <p>
        We propose exposing ReM URIs as opaque strings to facilitate
        future usage scenarios in which people copy and paste ReM
        URIs into applications such as blogs, forums or repository
        systems.  This is commonly done with sites such as <a
        href="http://www.youtube.com/watch?v=0PKDJrIMJFs">YouTube</a>
        and <a
        href="http://s5.photobucket.com/albums/y167/rmccartney/1955%20Nomad/">Photobucket</a>,
        and <a
        href="http://www.hemmings.com/classifieds/carsforsale/ford/fairlane/">classified
        listings</a> where strings are provided to the user
        to facilitate reuse (i.e., copy-n-paste) of the components in email,
        instant messaging systems, forums and HTML pages.
        We provide an example of how this could look for using an <a
        href="http://www.openarchives.org/ore/0.1/discovery-examples/arxiv.html">arXiv
        pre-print</a> as an example.
        </p>

<h2><a name="ResponseEmbedding" id="ResponseEmbedding"></a>4. Response Embedding</h2>
        <p>
        If we wish to have resources link to their corresponding ReMs, but not all
        of the aggregated resources are HTML, and thus cannot use the HTML link element,
        we can embed the link of the ReM in the response.  For the moment, this
        means putting the URI of the ReM in an HTTP response header.
        </p>

<h3><a name="HTTPLinkHeader"></a>4.1 HTTP Link Header</h3>
        <p>
        The concept of a link HTTP response header existed
        in earlier versions of the HTTP protocol [<cite><a
        href="#RFC2068">RFC2068</a></cite>], but the lack of a
        compelling use case probably led to it being removed from the
        current HTTP specification.  A recent Internet Draft proposes
        a method for converting HTML link element semantics into HTTP
        Link response headers [<cite><a href="#HTTPHeaderLinking">HTTP
        Header Linking</a></cite>].    Although this draft has yet to be
        promoted to an RFC, the approach is straightforward.  If we wanted
        to promote the hello world example above from limited knowledge
        to full knowledge, the JPEGs could link to their corresponding
        ReM with the HTTP link response header.  The example below shows
        an HTTP request and response with the ReM in a link header.
        </p>

<div class="exampleInner">
<pre>(request)  	HEAD http://www.example.net/hello.jpeg HTTP/1.1
                Host: www.example.net
                Connection: close

(response)      HTTP/1.1 200 OK
                Date: Sat, 26 May 2007 22:43:10 GMT
                Server: Apache/2.2.0
                Last-Modified: Sat, 26 May 2007 19:32:04 GMT
                ETag: "c3596-816-92123500"
                Accept-Ranges: bytes
                Content-Length: 2070
                Link: &lt;http://example.net/hw.atom&gt;; type="application/atom+xml"; rel="resourcemap"
                Content-Type: image/jpeg
                Connection: close
</pre>
</div>

<h2><a name="MethodsNotRecommendedforReMDiscovery" id="MethodsNotRecommendedforReMDiscovery"></a>5. Methods Not Recommended for ReM Discovery</h2>

<h3><a name="ReMsinSimpleFiles"></a>5.1 ReMs in Simple Files</h3>
        <p>
        It is possible to create an HTML page consisting of ReMs and link it
        from a web site for robots to discover, such as:
        </p>
<div class="exampleInner">
<pre>&lt;a href="http://www.foo.edu/objects/object1.atom"&gt;ReM 1&lt;/a&gt;
&lt;a href="http://www.foo.edu/objects/object2.atom"&gt;ReM 2&lt;/a&gt;
&lt;a href="http://www.foo.edu/objects/object3.atom"&gt;ReM 3&lt;/a&gt;
...
</pre>
</div>
        <p>
        While this would not be incorrect and would result in exposing ReMs to  
        web crawlers, it could lead to confusion if human agents were to accidently
        load this page.  Attempts to hide such a page from human agents and present
        it only to crawlers would likely be detected as link spam.
        </p>

<h3><a name="URIConflation"></a>5.2 URI Conflation</h3>
        <p>
        The Data Model document [<cite><a href="#ORE_Model">ORE
        Model</a></cite>] explicitly prohibits a URI of a ReM (URI-R)
        ever returning anything other than a ReM.  This allows multiple
        representations to be associated with URI-R, such as using
        content negotiation to return ReMs in different languages,
        character sets, or compression encodings.  But it does not allow
        URI-R to return a human readable "splash page", either by HTTP
        content negotiation or redirection.  For example, clients MUST
        NOT merge with content negotiation the following URI pair that
        would correspond to a ReM and a "splash page" for an object:
        </p>
<div class="exampleInner">
<pre>(ReM)                   http://www.foo.edu/objects/object1.atom
(Splash Page)           http://www.foo.edu/objects/object1.html
(Conflated URI)         http://www.foo.edu/objects/object1
</pre>
</div>
        <p>
        Similarly, clients MUST NOT refer to the ReM using the conflated URI
        constructed along the lines of HTTP 303 redirection [<cite><a href="#DFKITM-07-01">DFKI TM-07-01</a></cite>]:
        </p>
<div class="exampleInner">
<pre>(ReM)                   http://www.foo.edu/data/objects/object1
(Splash Page)           http://www.foo.edu/page/objects/object1
(Conflated URI)         http://www.foo.edu/resource/objects/object1
</pre>
</div>
        <p>
        The purpose of these restrictions is to allow URI-R to be an
        unambiguous identifier for the ReM and not be conflated with
        identifiers for other resources (especially resources that are
        likely to be a member of the aggregation described by the ReM,
        such as human readable splash pages).
        </p>
        <p>
        Note that these restrictions do not prevent a ReM from being used
        as a the basis or "ingredient" of a splash page.  Servers MAY
        choose to include stylesheets with ReMs to make them suitable
        for use by human agents.  Although this is an option, clients
        should note that there is no requirement for ReMs and splash
        pages to be transformable from one to another; a ReM may not
        have the same URIs as a splash page and vice versa.
        </p>

<h2><a name="References"></a>6. References</h2>
<dl>
<dt>[<a name="DFKITM-07-01" id="DFKITM-07-01">DFKI TM-07-01</a>]</dt>
<dd><cite><a href="http://www.dfki.uni-kl.de/~sauermann/2006/11/cooluris/">Cool URIs for the Semantic Web</a></cite>,
L. Sauermann, R. Cyganiak, M. V&#246;lkel, DFKI Technical Memo TM-07-01, 2007.
Available at http://www.dfki.uni-kl.de/dfkidok/publications/TM/07/01/tm-07-01.pdf.</dd>

<dt>[<a name="HTML" id="HTML">HTML</a>]</dt>
<dd><cite><a href="http://www.w3.org/TR/html4/struct/links.html#h-12.3">HTML 4.01 Specification</a></cite>,
D. Raggett, A. Le Hors, I. Jacobs (eds.),
W3C Recommendation 24 December 1999.
Available at http://www.w3.org/TR/html4/.</dd>

<dt>[<a name="HTTPHeaderLinking" id="HTTPHeaderLinking">HTTP Header Linking</a>]</dt>
<dd><cite><a href="http://www.mnot.net/drafts/draft-nottingham-http-link-header-00.txt">HTTP Header Linking</a></cite>,
M. Nottingham, IETF Draft, 2006.
Available at http://www.mnot.net/drafts/draft-nottingham-http-link-header-00.txt.</dd>

<dt>[<a name="OAI-PMH" id="OAI-PMH">OAI-PMH</a>]</dt>
<dd><cite><a href="http://www.openarchives.org/OAI/openarchivesprotocol.html">The Open Archives Initiative Protocol for Metadata Harvesting</a></cite>,
C. Lagoze, H. Van de Sompel, M. Nelson, S. Warner, 2002.
Available at http://www.openarchives.org/OAI/openarchivesprotocol.html.</dd>

<dt>[<a name="ORE_Model" id="ORE_Model">ORE Model</a>]</dt>
<dd><cite><a href="http://www.openarchives.org/ore/datamodel">ORE Specification -  Abstract Data Model</a></cite>,
C. Lagoze, H. Van de Sompel, M. Nelson, R. Sanderson, S. Warner, 2007.
Available at http://www.openarchives.org/ore/datamodel.</dd>

<dt>[<a name="ORE_User_Resource_Map" id="ORE_User_Resource_Map">ORE User Guide Resource Map</a>]</dt>
<dd><cite><a href="http://www.openarchives.org/ore/atom-implementation">ORE User Guide - Resource Map Implementation in Atom</a></cite>,
C. Lagoze, H. Van de Sompel, M. Nelson, R. Sanderson, S. Warner, 2007.
Available at http://www.openarchives.org/ore/atom-implementation.</dd>

<dt>[<a name="ReMProfileofAtom" id="ReMProfileofAtom">ReMProfileofAtom</a>]</dt>
<dd><cite><a href="http://www.openarchives.org/ore/atom">ORE Specification - Resource Map Profile of Atom</a></cite>,
C. Lagoze, H. Van de Sompel, M. Nelson, R. Sanderson, S. Warner, 2007.
Available at http://www.openarchives.org/ore/atom.</dd>

<dt>[<a id="RFC2068" shape="rect" name="RFC2068">RFC2068</a>]</dt>
<dd>IETF <cite><a shape="rect" href="http://www.ietf.org/rfc/rfc2068.txt">RFC 2068: Hypertext Transfer Protocol - HTTP/1.1</a></cite>,
R. Fielding, J. Gettys, J. Mogul, H. Frystyk, T. Berners-Lee, January 1997.
Available at http://www.ietf.org/rfc/rfc2068.txt.</dd>

<dt>[<a id="RFC2119" shape="rect" name="RFC2119">RFC2119</a>]</dt>
<dd>IETF <cite><a shape="rect" href="http://www.ietf.org/rfc/rfc2119.txt">RFC 2119: Key words for use in RFCs to Indicate Requirement Levels</a></cite>,
S. Bradner, March 1997.
Available at http://www.ietf.org/rfc/rfc2119.txt.</dd>

<dt>[<a name="RFC4287" id="RFC4287">RFC4287</a>]</dt>
<dd> IETF <cite><a href="http://www.ietf.org/rfc/rfc4287.txt">RFC 4287: The Atom Syndication Format</a></cite>,
M. Nottingham, R. Sayre, December 2005.
Available at http://www.ietf.org/rfc/rfc4287.txt.</dd>

<dt>[<a name="RSS" id="RSS">RSS</a>]</dt>
<dd><cite><a href="http://en.wikipedia.org/wiki/RSS_(file_format)">RSS</a></cite>, 2007.
Available at http://en.wikipedia.org/wiki/RSS_(file_format).</dd>

<dt>[<a name="SiteMap" id="SiteMap">SiteMap</a>]</dt>
<dd><cite><a href="http://www.sitemaps.org/protocol.php">Sitemaps XML format</a></cite>, 2007.
Available at http://http://www.sitemaps.org/.</dd>

</dl>
</div>

<div class="back">
<!--START-INCLUDE=_acknowledgements.inc-->
<div class="body">
<h2><a name="acknowledgments" id="acknowledgments"></a>A. Acknowledgements</h2>
<p>This document is the work of the
<a href="http://openarchives.org">Open Archives Initiative</a>. Funding 
for Open Archives Initiative Object Reuse and Exchange is provided by 
the <a href="http://mellon.org/">Andrew W. Mellon Foundation</a>,
<a href="http://microsoft.com/">Microsoft</a>, and the
<a href="http://nsf.gov">National Science Foundation</a>.&nbsp; Additional 
support is provided by the <a href="http://www.cni.org">Coalition for 
Networked Information</a>.</p>
<p>This document is based on meetings of the
<a href="http://www.openarchives.org/ore/ORE_Community.php#OAI-ORE_Technical_Committee">
OAI-ORE Technical Committee</a> (ORE-TC), with participation from the
<a href="http://www.openarchives.org/ore/ORE_Community.php#OAI-ORE_Liaison_Group">
OAI-ORE Liaison Group</a> (ORE-LG).&nbsp; Members of the ORE-TC are: 
Chris Bizer (Freie Universit&#228;t Berlin), Les Carr (University of Southampton), Tim DiLauro 
(Johns Hopkins University), Leigh Dodds (Ingenta), David Fulker (UCAR), Tony Hammond 
(Nature Publishing Group), Pete Johnston (Eduserv Foundation), Richard 
Jones (Imperial College), Peter Murray (OhioLINK), Michael Nelson (Old 
Dominion University), Ray Plante (NCSA and National Virtual 
Observatory), Rob Sanderson (University of Liverpool), Simeon Warner 
(Cornell University), and Jeff Young (OCLC).&nbsp; Members of ORE-LG are: 
Leonardo Candela (DRIVER), Tim Cole (DLF Aquifer and UIUC Library), 
Julie Allinson (JISC), Jane Hunter (DEST), Savas Parastatidis&nbsp; 
(Microsoft), Sandy Payette (Fedora Commons), Thomas Place (DARE and 
University of Tilburg), Andy Powell (DCMI), and Robert Tansley (Google, 
Inc. and DSpace)</p>
<p>We also acknowledge comments from the
<a href="http://www.openarchives.org/ore/ORE_Community.php#OAI-ORE_Advisory_Committee">
OAI-ORE Advisory Committee</a> (ORE-AC).</p>
</div>
<!--END-INCLUDE=_acknowledgements.inc-->

<div class="changelog">
<h2><a name="changelog" id="changelog"></a>B. Change Log</h2>
<table class="changelog" summary="change log">
        <tbody><tr>
                <th>Date</th>
                <th>Editor</th>
                <th>Description</th>
        </tr>
        <tr>
                <td>2007-12-10</td>
                <td>mln</td>
                <td>public alpha release</td>
        </tr>
        <tr>
                <td>2007-10-15</td>
                <td>mln</td>
                <td>alpha release to ORE-TC</td>
        </tr></tbody>
</table>
</div>

</div>
<!--START-FOOTER-->
<div id="license">
<p><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png"/></a><br/>This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-Noncommercial-Share Alike 3.0 Unported License</a>.</p>
</div>

<div id="tracker">
<p style="font-size: 60%">Use of this page is tracked to collect anonymous traffic data.
See <a href="/privacy">OAI privacy policy</a>.
</p>
</div>
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-2976056-3";
urchinTracker();
</script>
</body>
</html>
