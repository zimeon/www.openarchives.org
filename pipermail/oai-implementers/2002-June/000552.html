<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [OAI-implementers] error reporting
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mln%40ils.unc.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000550.html">
   <LINK REL="Next"  HREF="000548.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OAI-implementers] error reporting
   </H1>
    <B>Michael L. Nelson
    </B> 
    <A HREF="mailto:mln%40ils.unc.edu"
       TITLE="[OAI-implementers] error reporting">mln@ils.unc.edu
       </A><BR>
    <I>Mon, 24 Jun 2002 13:23:54 -0400 (EDT)</I>
    <P><UL>
        <LI> Previous message: <A HREF="000550.html">[OAI-implementers] error reporting
</A></li>
        <LI> Next message: <A HREF="000548.html">[OAI-implementers] error reporting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#552">[ date ]</a>
              <a href="thread.html#552">[ thread ]</a>
              <a href="subject.html#552">[ subject ]</a>
              <a href="author.html#552">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 24 Jun 2002, deridder wrote:

&gt;<i> 
</I>&gt;<i> I'm afraid I wasn't clear.
</I>&gt;<i> Is is forbidden to use an error code for this situation since it is not
</I>&gt;<i> in the protocol?
</I>
yes, it is forbidden.  you can't make up your own error codes and have the
response validate against the schema.

I suppose you could overload an existing code, like badVerb or
badArgument, but this is not advisable b/c it would like confuse
harvesters.

these aren't really OAI errors per se, they're system errors.  the right
way to handle this is probably to issue http codes of 500 or 503.

regards,

Michael

&gt;<i> 
</I>&gt;<i> On Mon, 24 Jun 2002, Stuart Chalk wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; &gt; How about for when the database is down, or other low-level
</I>&gt;<i> &gt; &gt; problems?
</I>&gt;<i> &gt; &gt;   I for one would like to use something like:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; &lt;error code=&quot;ServerDown&quot;&gt;Service unavailable.  Retry in one
</I>&gt;<i> &gt; &gt; hour&lt;/error&gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;  with a 503 code, but obviously that's not in the protocol.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Actually, this is in the protocol
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt;From the v2.0 specficiations document
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 3.1.2.2 Status-Code
</I>&gt;<i> &gt; OAI-PMH errors are distinguished from HTTP Status-Codes. Since OAI-PMH
</I>&gt;<i> &gt; uses HTTP as a transport layer, servers implementing OAI-PMH must conform
</I>&gt;<i> &gt; to HTTP status code definitions and report relevant HTTP transport layer
</I>&gt;<i> &gt; status via those Status-Codes. OAI-PMH repositories may employ HTTP
</I>&gt;<i> &gt; Status-Codes in addition to &quot;200 OK&quot;.For instance, the following
</I>&gt;<i> &gt; Status-Codes may be useful for load balancing in OAI repositories:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; *	302 - Allows the repository to temporarily redirect an OAI-PMH
</I>&gt;<i> &gt; request to another repository. The URI of the temporary repository should
</I>&gt;<i> &gt; be given by the Location field in the HTTP response.
</I>&gt;<i> &gt; *	503 - Service unavailable, a Retry-After period is specified.
</I>&gt;<i> &gt; Harvesters should wait this period before attempting another OAI-PMH
</I>&gt;<i> &gt; request.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Stuart
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; OAI-implementers mailing list
</I>&gt;<i> &gt; <A HREF="mailto:OAI-implementers@oaisrv.nsdl.cornell.edu">OAI-implementers@oaisrv.nsdl.cornell.edu</A>
</I>&gt;<i> &gt; <A HREF="http://oaisrv.nsdl.cornell.edu/mailman/listinfo/oai-implementers">http://oaisrv.nsdl.cornell.edu/mailman/listinfo/oai-implementers</A>
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ***********************************************************
</I>&gt;<i>    PGPKey: <A HREF="http://www.cs.utk.edu/~deridder/jd-pgp.txt">http://www.cs.utk.edu/~deridder/jd-pgp.txt</A>
</I>&gt;<i> ***********************************************************
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> OAI-implementers mailing list
</I>&gt;<i> <A HREF="mailto:OAI-implementers@oaisrv.nsdl.cornell.edu">OAI-implementers@oaisrv.nsdl.cornell.edu</A>
</I>&gt;<i> <A HREF="http://oaisrv.nsdl.cornell.edu/mailman/listinfo/oai-implementers">http://oaisrv.nsdl.cornell.edu/mailman/listinfo/oai-implementers</A>
</I>&gt;<i> 
</I>
---
Michael L. Nelson
NASA Langley Research Center		<A HREF="mailto:m.l.nelson@larc.nasa.gov">m.l.nelson@larc.nasa.gov</A>
MS 158, Hampton, VA 23681		<A HREF="http://www.ils.unc.edu/~mln/">http://www.ils.unc.edu/~mln/</A>
+1 757 864 8511				+1 757 864 8342 (f)


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000550.html">[OAI-implementers] error reporting
</A></li>
	<LI> Next message: <A HREF="000548.html">[OAI-implementers] error reporting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#552">[ date ]</a>
              <a href="thread.html#552">[ thread ]</a>
              <a href="subject.html#552">[ subject ]</a>
              <a href="author.html#552">[ author ]</a>
         </LI>
       </UL>
</body></html>
