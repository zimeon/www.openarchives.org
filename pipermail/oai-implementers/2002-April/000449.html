<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [OAI-implementers] Clarification on deleted records
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:hussein%40vt.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000448.html">
   <LINK REL="Next"  HREF="000451.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OAI-implementers] Clarification on deleted records
   </H1>
    <B>Hussein Suleman
    </B> 
    <A HREF="mailto:hussein%40vt.edu"
       TITLE="[OAI-implementers] Clarification on deleted records">hussein@vt.edu
       </A><BR>
    <I>Wed, 10 Apr 2002 14:47:46 -0400</I>
    <P><UL>
        <LI> Previous message: <A HREF="000448.html">[OAI-implementers] Clarification on deleted records
</A></li>
        <LI> Next message: <A HREF="000451.html">[OAI-implementers] Clarification on deleted records
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#449">[ date ]</a>
              <a href="thread.html#449">[ thread ]</a>
              <a href="subject.html#449">[ subject ]</a>
              <a href="author.html#449">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hi

if deleted records are tracked by the archive then there is no problem - 
both ListRecords and GetRecord can return a deleted status and service 
providers can act accordingly.

if deleted records are not tracked, it is quite conceivable that an 
archive may, for example, delete a row in the database when an item is 
deleted. thus, future ListRecords requests will not reflect that the 
item is deleted (since it simply no longer exists). in such a case, the 
service provider has to regularly issue GetRecord with the identifiers 
of previously harvested records in order to confirm that each of them 
does still exist. alternatively, the service provider can issue 
GetRecord just before presenting the record through a user interface - 
that makes network utilization dependent on the needs of actual users. a 
third solution is to just throw everything away every now and then and 
reharvest from scratch.

to answer your last question, if an archive tracks deleted records, 
GetRecord (or ListRecords) for a deleted item will return only the 
header and not the metadata (or about). any archive that tracks deleted 
items ought to store at least the identifiers and the dates when the 
items were deleted or harvesting will not work properly.

hope this helps.

ttfn
----hussein

Leigh Dodds wrote:

&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> I'm not clear on the following wording in the specification, could 
</I>&gt;<i> someone clarify this for me?
</I>&gt;<i> 
</I>&gt;<i> &quot;When returning a harvested record or identifier of a record, the  
</I>&gt;<i> ListRecords and ListIdentifiers service requests may indicate a status 
</I>&gt;<i> of &quot;deleted&quot;.  This status means that an item has been deleted and 
</I>&gt;<i> therefore no record can be disseminated from it.   The length of time 
</I>&gt;<i> that a given repository keeps track of deleted items is not defined by 
</I>&gt;<i> the protocol.  Therefore, the only guaranteed method in the protocol 
</I>&gt;<i> for determining whether a record can be returned by a repository 
</I>&gt;<i> (its corresponding item still exists) is through the GetRecord service 
</I>&gt;<i> request.&quot;
</I>&gt;<i> 
</I>&gt;<i> What I'm not sure about is why the only guaranteed method 
</I>&gt;<i> for determing whether a record can be returned is GetRecord.
</I>&gt;<i> The second sentence (reading &quot;This status...&quot;) notes that if 
</I>&gt;<i> the status is deleted, then no record can be returned. So we 
</I>&gt;<i> already have a definitive answer don't we? 
</I>&gt;<i> 
</I>&gt;<i> Digging further I see that the GetRecord schema notes that a 
</I>&gt;<i> record *can* be returned with a deleted status -- which seems 
</I>&gt;<i> contrary to the above? 
</I>&gt;<i> 
</I>&gt;<i> However if an identifer doesn't exist then no record will be returned in 
</I>&gt;<i> the GetRecord response.
</I>&gt;<i> 
</I>&gt;<i> So is it the case that records for items with a deleted status will always 
</I>&gt;<i> be available (i.e. the metadata is can still be harvested) but 
</I>&gt;<i> after a period (determined by the archive) GetRecord may 
</I>&gt;<i> subsequently return no metadata.
</I>&gt;<i> 
</I>&gt;<i> Thanks in advance,
</I>&gt;<i> 
</I>&gt;<i> L.
</I>&gt;<i> 
</I>&gt;<i> 
</I>

-- 
======================================================================
hussein suleman - <A HREF="mailto:hussein@vt.edu">hussein@vt.edu</A> - vtcs - <A HREF="http://www.husseinsspace.com">http://www.husseinsspace.com</A>
======================================================================


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000448.html">[OAI-implementers] Clarification on deleted records
</A></li>
	<LI> Next message: <A HREF="000451.html">[OAI-implementers] Clarification on deleted records
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#449">[ date ]</a>
              <a href="thread.html#449">[ thread ]</a>
              <a href="subject.html#449">[ subject ]</a>
              <a href="author.html#449">[ author ]</a>
         </LI>
       </UL>
</body></html>
