<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [OAI-implementers] Resumption 'from' date.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ajk%40mds.rmit.edu.au">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000369.html">
   <LINK REL="Next"  HREF="000353.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OAI-implementers] Resumption 'from' date.
   </H1>
    <B>Alan Kent
    </B> 
    <A HREF="mailto:ajk%40mds.rmit.edu.au"
       TITLE="[OAI-implementers] Resumption 'from' date.">ajk@mds.rmit.edu.au
       </A><BR>
    <I>Fri, 15 Feb 2002 11:13:59 +1100</I>
    <P><UL>
        <LI> Previous message: <A HREF="000369.html">[OAI-implementers] Resumption 'from' date.
</A></li>
        <LI> Next message: <A HREF="000353.html">[OAI-implementers] Support for Tim Cole's comments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#370">[ date ]</a>
              <a href="thread.html#370">[ thread ]</a>
              <a href="subject.html#370">[ subject ]</a>
              <a href="author.html#370">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Feb 14, 2002 at 10:38:23AM -0500, Simeon Warner wrote:
&gt;<i> 
</I>&gt;<i> This sounds like a best-practice rather than something that should be
</I>&gt;<i> mandated. Perhaps the suggestion should be:
</I>&gt;<i> 
</I>&gt;<i> &quot;Repositories are encouraged to implement persistent resumptionTokens
</I>&gt;<i> that can be re-used in the event that one a request is not successfully
</I>&gt;<i> completed. One way for repositories to do this is to use the 
</I>&gt;<i> resumptionToken in a way that it encodes the next query in a set of 
</I>&gt;<i> queries that will complete the original List request.
</I>&gt;<i> 
</I>&gt;<i> On failing to complete a request using a resumptionToken, a harvester may 
</I>&gt;<i> re-issue the request using the same resumptionToken. If the repository 
</I>&gt;<i> supports this use then it will give the correct response. Otherwise it 
</I>&gt;<i> will respond with an badResumptionToken error, in which case the 
</I>&gt;<i> harvester must start the complete List request again.&quot; 
</I>
The only thing to watch out for is that for this to work, there is
also an implicit 'resumptionTokens must never reused' (that is,
they are unique and change per request). Otherwise if a
harvester reuses a token, it wont know if the response is the last
batch again, or the next batch. Is this an acceptable restriction?
I would have thought it would be undesirable. I can imagine a simple
OAI data provider using the resumption token to identify a cached query
that results are being pulled from. There would be no need to change
token. Mind you, just as easily I guess that implementation could put
a count on the end of the token (1, 2, 3) making each token unique
fairly easily. So I am unsure whether the restriction is acceptable
in general or not (people seem strongly in favour of not adding
restrictions, which is fair enough).

Maybe a mix of your proposal plus some information in the Identify response
which indicates that resumptionToken's can be used in this way. In that
case, the proposed text could be simpler - if the server says it supports
unique tokens and for tokens to be reused (unless they time out), then
the harvester can attempt to recover. Otherwise, start again. Then there
does not need to be a new error condition (other than what servers already
implement if unknown or timed out resumptionTOkens are used).

Alan

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000369.html">[OAI-implementers] Resumption 'from' date.
</A></li>
	<LI> Next message: <A HREF="000353.html">[OAI-implementers] Support for Tim Cole's comments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#370">[ date ]</a>
              <a href="thread.html#370">[ thread ]</a>
              <a href="subject.html#370">[ subject ]</a>
              <a href="author.html#370">[ author ]</a>
         </LI>
       </UL>
</body></html>
