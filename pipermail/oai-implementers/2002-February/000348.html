<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [OAI-implementers] Resumption 'from' date.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:liu_x%40cs.odu.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000346.html">
   <LINK REL="Next"  HREF="000369.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OAI-implementers] Resumption 'from' date.
   </H1>
    <B>Xiaoming Liu
    </B> 
    <A HREF="mailto:liu_x%40cs.odu.edu"
       TITLE="[OAI-implementers] Resumption 'from' date.">liu_x@cs.odu.edu
       </A><BR>
    <I>Sun, 10 Feb 2002 21:17:51 -0500 (EST)</I>
    <P><UL>
        <LI> Previous message: <A HREF="000346.html">[OAI-implementers] Resumption 'from' date.
</A></li>
        <LI> Next message: <A HREF="000369.html">[OAI-implementers] Resumption 'from' date.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#348">[ date ]</a>
              <a href="thread.html#348">[ thread ]</a>
              <a href="subject.html#348">[ subject ]</a>
              <a href="author.html#348">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 11 Feb 2002, Alan Kent wrote:

&gt;<i> If a goal of OAI is to keep it simple and not change radically (which
</I>&gt;<i> I can appreciate), then I would revert to my simpler proposed extension
</I>
Based on previous discussions in this list, I think there is one way to
implement a consistent/stateless view (from the harvester) without
modifying protocol.

The suggested way is to encode the resumptionToken with the query
parameter, at the same time data provider always uses datestamp to sort
the query result.

The format should be almost same as I suggested before, but the cursor
will be the current processed datestamp (borrowed from your solution).
likely:

resumptionToken=sets:from:until:metadataformat:processed_datestamp.

The resumptionToken is transparent to service provider, but when data
provider sees this resumptionToken, it will re-create the query, and use
this &quot;processed_datestamp&quot; as a &quot;from&quot; date.

And whether to implement such a mechanism is totally depended on the data
provider, a large /frequently changed data provider may want to use such a
mechanism to support a consistent view to harvester. 

regards,
liu


&gt;<i> which is to allow a server to return an optional addtional date/time in
</I>&gt;<i> ListRecords/ListIdentifiers responses indicating that &quot;the client can
</I>&gt;<i> use this as a 'from' date to resume if the response token times out&quot;.
</I>&gt;<i> 
</I>&gt;<i> For the very simple implementations (or small data volume sites), the
</I>&gt;<i> server just omits this value.
</I>&gt;<i> 
</I>&gt;<i> For more sophisticated implementations with a database engine behind
</I>&gt;<i> the scenes (for example, so it can easly sort the records), then for
</I>&gt;<i> each packet it can say &quot;I am guaranteeing to at least have returned
</I>&gt;<i> everything up to this date&quot;. This allows a harvester client hitting a
</I>&gt;<i> large site for a first time to not have to start again from scratch if
</I>&gt;<i> something goes wrong (resumption token time out etc). Date resolution
</I>&gt;<i> is fine here (getting some entries a second time is not the problem -
</I>&gt;<i> the problem is starting again from the very beginning).
</I>&gt;<i> 
</I>&gt;<i> My first attempt at a client harvester for example took about a day to
</I>&gt;<i> go to several sites and download everything. It hung several times
</I>&gt;<i> (unknown network issues), meaning I had to restart it on some large
</I>&gt;<i> sites from scratch. Many other sites it failed for (I can post a list
</I>&gt;<i> if people are interested - many seemed to only support GET and not POST).
</I>&gt;<i> 
</I>&gt;<i> Alan
</I>&gt;<i> _______________________________________________
</I>&gt;<i> OAI-implementers mailing list
</I>&gt;<i> <A HREF="mailto:OAI-implementers@oaisrv.nsdl.cornell.edu">OAI-implementers@oaisrv.nsdl.cornell.edu</A>
</I>&gt;<i> <A HREF="http://oaisrv.nsdl.cornell.edu/mailman/listinfo/oai-implementers">http://oaisrv.nsdl.cornell.edu/mailman/listinfo/oai-implementers</A>
</I>&gt;<i> 
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000346.html">[OAI-implementers] Resumption 'from' date.
</A></li>
	<LI> Next message: <A HREF="000369.html">[OAI-implementers] Resumption 'from' date.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#348">[ date ]</a>
              <a href="thread.html#348">[ thread ]</a>
              <a href="subject.html#348">[ subject ]</a>
              <a href="author.html#348">[ author ]</a>
         </LI>
       </UL>
</body></html>
