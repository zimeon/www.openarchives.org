<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [OAI-implementers] Open Archives Initiative Protocol for Metadata Harvesting Version 2 news
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:wunder%40inktomi.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000318.html">
   <LINK REL="Next"  HREF="000320.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OAI-implementers] Open Archives Initiative Protocol for Metadata Harvesting Version 2 news
   </H1>
    <B>Walter Underwood
    </B> 
    <A HREF="mailto:wunder%40inktomi.com"
       TITLE="[OAI-implementers] Open Archives Initiative Protocol for Metadata Harvesting Version 2 news">wunder@inktomi.com
       </A><BR>
    <I>Mon, 04 Feb 2002 14:11:18 -0800</I>
    <P><UL>
        <LI> Previous message: <A HREF="000318.html">[OAI-implementers] Open Archives Initiative Protocol for Metadata
 Harvesting Version 2 news
</A></li>
        <LI> Next message: <A HREF="000320.html">[OAI-implementers] Open Archives Initiative Protocol for Metadata Harvesting Version 2 news
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#319">[ date ]</a>
              <a href="thread.html#319">[ thread ]</a>
              <a href="subject.html#319">[ subject ]</a>
              <a href="author.html#319">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--On Monday, February 4, 2002 12:04 PM -0500 Carl Lagoze &lt;<A HREF="mailto:lagoze@cs.cornell.edu">lagoze@cs.cornell.edu</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> 1. Dates and times - Standardize on UTC for all dates and times in protocol
</I>&gt;<i> requests (&quot;from&quot; and &quot;until&quot; arguments) and responses.
</I>
Excellent idea.

&gt;<i>  2. Harvesting Granularity- Allow all ISO8601 time granularities in dates
</I>&gt;<i> and times in the &quot;from&quot; and &quot;until&quot; arguments of protocol requests.  Allow a
</I>&gt;<i> data provider to expose its support date/time granularity in the response to
</I>&gt;<i> an Identity request.  Default granularity is YYY-MM-DD.
</I>
Poor idea. This multiplies the test cases massively and makes the
protocol implementation more complex. Now the spec must define what
&quot;until 2002-02-02&quot; means (beginning or end of the day?), and it must
be tested for all granularities in all arguments, and all combinations.
Some clients don't even need to send day granularities. Why should
they be saddled with this complexity?

&gt;<i> 3. Flow control - Improve flow control by allowing the following optional
</I>&gt;<i> attributes when a resumptionToken is returned:
</I>&gt;<i> * retryAfter - a suggested wait time until the request should be resubmitted
</I>&gt;<i> * expirationDate - the projected expiration of the resumptionToken
</I>&gt;<i> * completeListSize - total number of items across entire result set
</I>&gt;<i> * cursor - index of first item in this batch within entire result set
</I>
This is surprisingly close to my suggested list approach. If this was
changed to have the client to send the cursor and the number of records
requested, then the resumption token is no longer needed. Think of it as
moving the database cursor from the server the client. Offloading the
state. This approach is  proven in high-load applications like LDAP and
HTTP search engines.

The 2.0 approach does have the problem where a correctly implemented
server can crash a correctly implemented client. That is very bad.
To fix that, the client must be able to specify the desired number
of records.

completeListSize is an excellent thing to return. It is somewhat
simpler to return that every time, rather than optionally as part
of the resumption token.

wunder
--
Walter R. Underwood
Senior Staff Engineer
Inktomi Enterprise Search
<A HREF="http://search.inktomi.com/">http://search.inktomi.com/</A>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000318.html">[OAI-implementers] Open Archives Initiative Protocol for Metadata
 Harvesting Version 2 news
</A></li>
	<LI> Next message: <A HREF="000320.html">[OAI-implementers] Open Archives Initiative Protocol for Metadata Harvesting Version 2 news
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#319">[ date ]</a>
              <a href="thread.html#319">[ thread ]</a>
              <a href="subject.html#319">[ subject ]</a>
              <a href="author.html#319">[ author ]</a>
         </LI>
       </UL>
</body></html>
