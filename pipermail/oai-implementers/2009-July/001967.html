<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [OAI-implementers] Is this a valid OAI-PMH response?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:oai-implementers%40openarchives.org?Subject=%5BOAI-implementers%5D%20Is%20this%20a%20valid%20OAI-PMH%20response%3F&In-Reply-To=4A661C21.7020808%40hulmail.harvard.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001961.html">
   <LINK REL="Next"  HREF="001962.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OAI-implementers] Is this a valid OAI-PMH response?</H1>
    <B>Stuart Lewis</B> 
    <A HREF="mailto:oai-implementers%40openarchives.org?Subject=%5BOAI-implementers%5D%20Is%20this%20a%20valid%20OAI-PMH%20response%3F&In-Reply-To=4A661C21.7020808%40hulmail.harvard.edu"
       TITLE="[OAI-implementers] Is this a valid OAI-PMH response?">s.lewis at auckland.ac.nz
       </A><BR>
    <I>Thu Jul 23 17:33:46 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001961.html">[OAI-implementers] Is this a valid OAI-PMH response?
</A></li>
        <LI>Next message: <A HREF="001962.html">[OAI-implementers] Are URL parameters identifying an OAI repository
	valid?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1967">[ date ]</a>
              <a href="thread.html#1967">[ thread ]</a>
              <a href="subject.html#1967">[ subject ]</a>
              <a href="author.html#1967">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks to everyone who responded. The vendor has now adjusted the xsl
that generates the records, and the oai_dc element is now being
generated as required.

Thanks,


Stuart Lewis
IT Innovations Analyst and Developer
Te Tumu Herenga The University of Auckland Library
Auckland Mail Centre, Private Bag 92019, Auckland 1142, New Zealand
Ph: 64 9 373-7599 x81928
<A HREF="http://www.library.auckland.ac.nz/">http://www.library.auckland.ac.nz/</A>




-----Original Message-----
From: Gary McGath [mailto:<A HREF="http://www.openarchives.org/mailman/listinfo/oai-implementers">gary at hulmail.harvard.edu</A>] 
Sent: Wednesday, 22 July 2009 7:51 a.m.
To: Stuart Lewis
Cc: <A HREF="http://www.openarchives.org/mailman/listinfo/oai-implementers">oai-implementers at openarchives.org</A>
Subject: Re: [OAI-implementers] Is this a valid OAI-PMH response?

Stuart Lewis wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> We have a vendor provided system with an OAI-PMH interface. When
</I>issuing
&gt;<i> a ListRecords command, it returns (edited for brevity):
</I>&gt;<i> 
</I>&gt;<i> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
</I>&gt;<i> 
</I>&gt;<i> &lt;OAI-PMH xmlns=&quot;<A HREF="http://www.openarchives.org/OAI/2.0/&quot;">http://www.openarchives.org/OAI/2.0/&quot;</A>
</I>&gt;<i> xmlns:xsi=&quot;<A HREF="http://www.w3.org/2001/XMLSchema-instance&quot;">http://www.w3.org/2001/XMLSchema-instance&quot;</A>
</I>&gt;<i> xsi:schemaLocation=&quot;<A HREF="http://www.openarchives.org/OAI/2.0/">http://www.openarchives.org/OAI/2.0/</A>
</I>&gt;<i> <A HREF="http://www.openarchives.org/OAI/2.0/OAI-PMH.xsd&quot;">http://www.openarchives.org/OAI/2.0/OAI-PMH.xsd&quot;</A>&gt;
</I>&gt;<i>    
</I>&gt;<i>    &lt;responseDate&gt;2009-07-20T21:05:43Z&lt;/responseDate&gt;
</I>&gt;<i> 
</I>&gt;<i>    &lt;request verb=&quot;ListRecords&quot; metadataPrefix=&quot;oai_dc&quot; set=&quot;SET1&quot;&gt;
</I>&gt;<i>        <A HREF="http://www.example.com/oai">http://www.example.com/oai</A>
</I>&gt;<i>    &lt;/request&gt;
</I>&gt;<i>    
</I>&gt;<i>    &lt;ListRecords&gt;
</I>&gt;<i> 
</I>&gt;<i>       &lt;record&gt;
</I>&gt;<i>          &lt;header&gt;
</I>&gt;<i>             &lt;identifier&gt;oai:record:1&lt;/identifier&gt;
</I>&gt;<i>             &lt;datestamp&gt;2009-06-30T11:29:18Z&lt;/datestamp&gt;
</I>&gt;<i>             &lt;setSpec&gt;SET1&lt;/setSpec&gt;
</I>&gt;<i>          &lt;/header&gt;
</I>&gt;<i> 
</I>&gt;<i>          &lt;metadata&gt;
</I>&gt;<i>             &lt;record
</I>&gt;<i> xmlns:xsi=&quot;<A HREF="http://www.w3.org/2001/XMLSchema-instance&quot;">http://www.w3.org/2001/XMLSchema-instance&quot;</A>
</I>&gt;<i> xmlns:dcterms=&quot;<A HREF="http://purl.org/dc/terms/&quot;">http://purl.org/dc/terms/&quot;</A>
</I>&gt;<i> xmlns:dc=&quot;<A HREF="http://purl.org/dc/elements/1.1/&quot;">http://purl.org/dc/elements/1.1/&quot;</A>&gt;
</I>&gt;<i>                &lt;dc:title&gt;Title&lt;/dc:title&gt;
</I>&gt;<i>                &lt;dc:creator&gt;Creator&lt;/dc:creator&gt;
</I>&gt;<i>                &lt;dc:description&gt;Description &lt;/dc:description&gt;
</I>&gt;<i>                ...
</I>&gt;<i>             &lt;/record&gt;
</I>&gt;<i>          &lt;/metadata&gt;
</I>&gt;<i> 
</I>&gt;<i>       &lt;/ListRecords&gt;
</I>&gt;<i> 
</I>&gt;<i>    &lt;/record&gt;
</I>&gt;<i> 
</I>&gt;<i> &lt;/OAI-PMH&gt;
</I>&gt;<i> 
</I>&gt;<i> To me this looks invalid - the &lt;record&gt; element within the metadata is
</I>&gt;<i> not expected to be there (a &lt;record&gt; is defined as being the top level
</I>&gt;<i> of a record, and thus contains a header and metadata). Most OAI-PMH
</I>&gt;<i> interfaces I have seen put an &lt;oai_dc:dc&gt; wrapper around the metadata.
</I>&gt;<i> 
</I>&gt;<i> The <A HREF="http://www.validome.org/">http://www.validome.org/</A> validator backs this up, and reports
</I>that:
&gt;<i> 
</I>&gt;<i> Invalid content found starting with element 'record'. One of
</I>&gt;<i> '{WC[##other:&quot;<A HREF="http://www.openarchives.org/OAI/2.0/&quot;]}'">http://www.openarchives.org/OAI/2.0/&quot;]}'</A> is expected
</I>&gt;<i> 
</I>&gt;<i> However our vendor is sure that this valid output, and when we checked
</I>&gt;<i> it, the site passed the OAI-PMH registration validation system OK.
</I>&gt;<i> 
</I>&gt;<i> Any advice appreciated! :)
</I>
The response is not delivering the promised metadata format. &quot;record&quot; is

the root tag of the metadata, according to the OAI/PMH definition. This 
means that the provider is delivering metadata in a format which isn't 
Dublin Core or any other standard metadata format, in spite of the cd 
elements within the root element. But the request specifies 
metadataPrefix=&quot;oai_dc&quot;, so the response is expected to deliver Dublin 
Core. Any client that issues a request for DC metadata and gets that 
response will be unable to cope with it.


-- 
Gary McGath
Digital Library Software Engineer
Harvard University Library Office for Information Systems
<A HREF="http://hul.harvard.edu/~gary/index.html">http://hul.harvard.edu/~gary/index.html</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001961.html">[OAI-implementers] Is this a valid OAI-PMH response?
</A></li>
	<LI>Next message: <A HREF="001962.html">[OAI-implementers] Are URL parameters identifying an OAI repository
	valid?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1967">[ date ]</a>
              <a href="thread.html#1967">[ thread ]</a>
              <a href="subject.html#1967">[ subject ]</a>
              <a href="author.html#1967">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.openarchives.org/mailman/listinfo/oai-implementers">More information about the OAI-implementers
mailing list</a><br>
</body></html>
