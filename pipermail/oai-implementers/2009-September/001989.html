<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [OAI-implementers] oai2xmpp
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:oai-implementers%40openarchives.org?Subject=%5BOAI-implementers%5D%20oai2xmpp&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001987.html">
   <LINK REL="Next"  HREF="001990.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OAI-implementers] oai2xmpp</H1>
    <B>Ed Summers</B> 
    <A HREF="mailto:oai-implementers%40openarchives.org?Subject=%5BOAI-implementers%5D%20oai2xmpp&In-Reply-To="
       TITLE="[OAI-implementers] oai2xmpp">ehs at pobox.com
       </A><BR>
    <I>Thu Sep 24 00:24:23 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001987.html">[OAI-implementers] unsuscribe please
</A></li>
        <LI>Next message: <A HREF="001990.html">[OAI-implementers] Netlog profilimi ziyaret et
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1989">[ date ]</a>
              <a href="thread.html#1989">[ thread ]</a>
              <a href="subject.html#1989">[ subject ]</a>
              <a href="author.html#1989">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>As an experiment to learn more about XMPP I created a little utility
that will poll an oai-pmh server and send new records as a chunk of
xml over XMPP.  The idea wasn't necessarily to see all the xml coming
into your jabber client (although you can do that), but to enable
downstream applications to have records pushed to them, instead of
them constantly having to poll for updates. So for example you could
create an archiver that sat and listened for new updates, or a current
awareness bot that scanned for articles that matched some user
profile, etc...

For example you can:

  oai2xmpp.py <A HREF="http://www.doaj.org/oai.article">http://www.doaj.org/oai.article</A> <A HREF="http://www.openarchives.org/mailman/listinfo/oai-implementers">from at example.com</A> <A HREF="http://www.openarchives.org/mailman/listinfo/oai-implementers">to at example.org</A>

which would poll DOAJ for new articles every 10 minutes and send them
via xmpp to <A HREF="http://www.openarchives.org/mailman/listinfo/oai-implementers">to at example.org.</A> You can adjust the poll interval, and
limit to records within a particular set with the --pollinterval and
--set options, e.g.:

  oai2xmpp.py <A HREF="http://export.arxiv.org/oai2">http://export.arxiv.org/oai2</A> <A HREF="http://www.openarchives.org/mailman/listinfo/oai-implementers">currents at jabber.org</A>
<A HREF="http://www.openarchives.org/mailman/listinfo/oai-implementers">ehs at jabber.org</A> --set cs --pollinterval 86400

It's a one file python hack in the spirit of Thom Hickey's 2PageOAI
[1] that has a few dependencies documented in the file (lxml, xmpppy,
httplib2). You can find it here:

  <A HREF="http://inkdroid.org/bzr/currents/oai2xmpp.py">http://inkdroid.org/bzr/currents/oai2xmpp.py</A>

Which is actually a bazaar repository that you can branch if you like:

  bzr branch <A HREF="http://inkdroid.org/bzr/currents">http://inkdroid.org/bzr/currents</A>

If you try it out, have an improvements, or ideas let me know. There's
a short TODO section in the file's documentation that describes some
potential things that could be done.

//Ed

[1] <A HREF="http://www.oclc.org/research/software/oai/2page.htm">http://www.oclc.org/research/software/oai/2page.htm</A>

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001987.html">[OAI-implementers] unsuscribe please
</A></li>
	<LI>Next message: <A HREF="001990.html">[OAI-implementers] Netlog profilimi ziyaret et
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1989">[ date ]</a>
              <a href="thread.html#1989">[ thread ]</a>
              <a href="subject.html#1989">[ subject ]</a>
              <a href="author.html#1989">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.openarchives.org/mailman/listinfo/oai-implementers">More information about the OAI-implementers
mailing list</a><br>
</body></html>
