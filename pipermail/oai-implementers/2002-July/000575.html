<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [OAI-implementers] Empty ResumptionToken
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:herbertv%40lanl.gov">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000574.html">
   <LINK REL="Next"  HREF="000578.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OAI-implementers] Empty ResumptionToken
   </H1>
    <B>herbert van de sompel
    </B> 
    <A HREF="mailto:herbertv%40lanl.gov"
       TITLE="[OAI-implementers] Empty ResumptionToken">herbertv@lanl.gov
       </A><BR>
    <I>Fri, 05 Jul 2002 09:14:54 -0600</I>
    <P><UL>
        <LI> Previous message: <A HREF="000574.html">[OAI-implementers] Empty ResumptionToken
</A></li>
        <LI> Next message: <A HREF="000578.html">[OAI-implementers] Empty ResumptionToken
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#575">[ date ]</a>
              <a href="thread.html#575">[ thread ]</a>
              <a href="subject.html#575">[ subject ]</a>
              <a href="author.html#575">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Tim Brody wrote:

&gt;<i> Dear all,
</I>&gt;<i>
</I>&gt;<i> &gt;From the protocol doc:
</I>&gt;<i> &quot;o the response containing the incomplete list that completes the list
</I>&gt;<i> includes an empty resumptionToken element&quot;
</I>&gt;<i>
</I>&gt;<i> I'm not sure whether this means the last page &quot;must&quot;, &quot;should&quot;, or &quot;can&quot;
</I>&gt;<i> include an empty resumptionToken - it's not mentioned in migration?
</I>&gt;<i>
</I>
it means &quot;must&quot;.  and thanks for pointing this out.  we must make this clear in
the spec.

I am not sure what your problem with this approach is.  By providing an empty
resumptionToken element to the harvester, the repository indicates that the
response to the original harvesting request is complete.  It's similar to
approaches taken in search&amp;retrieval protocols where it is specified that
results 45 till 60 out of a result set of 60 have been delivered.  Only, in the
OAI-PMH such an approach can't work because the size of &quot;result-set&quot; can change
while the harvester is harvesting it (see
<A HREF="http://www.openarchives.org/OAI/openarchivesprotocol.html#Idempotency">http://www.openarchives.org/OAI/openarchivesprotocol.html#Idempotency</A>).  So, I
hope that -- in the same way that S&amp;R clients can check whether the result-set
is complete, by comparing 45-60 with 60 -- a harvester can check whether the XML
resumptionToken element is empty or not.  If it's empty, the harvester shouldn't
issue a new harvesting request, and as a result it will not receive a
norecordsMatch reponse.

I understand that the same result could have been achieved by not providing a
resumptionToken element at all in the last incomplete list.  In that case the
spec would have read: all incomplete lists must contain a resumpionToken
element, except for the incomplete list that completes the reponse which must
not contain a resumptionToken element - &quot;Doh!&quot; .

herbert

--
Herbert Van de Sompel
digital library research &amp; prototyping
Los Alamos National Laboratory - Research Library
+ 1 (505) 667 1267 / <A HREF="http://lib-www.lanl.gov/~herbertv/">http://lib-www.lanl.gov/~herbertv/</A>

objects on mirror sites are closer than they appear



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000574.html">[OAI-implementers] Empty ResumptionToken
</A></li>
	<LI> Next message: <A HREF="000578.html">[OAI-implementers] Empty ResumptionToken
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#575">[ date ]</a>
              <a href="thread.html#575">[ thread ]</a>
              <a href="subject.html#575">[ subject ]</a>
              <a href="author.html#575">[ author ]</a>
         </LI>
       </UL>
</body></html>
