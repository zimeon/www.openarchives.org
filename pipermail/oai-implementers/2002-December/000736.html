<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [OAI-implementers] Bad resumptionToken, implementation of it,
 or user error?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:tanderson%40collegis.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000735.html">
   <LINK REL="Next"  HREF="000737.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OAI-implementers] Bad resumptionToken, implementation of it,
 or user error?
   </H1>
    <B>Thor Anderson
    </B> 
    <A HREF="mailto:tanderson%40collegis.com"
       TITLE="[OAI-implementers] Bad resumptionToken, implementation of it,
 or user error?">tanderson@collegis.com
       </A><BR>
    <I>Wed, 18 Dec 2002 08:17:57 -0700</I>
    <P><UL>
        <LI> Previous message: <A HREF="000735.html">[OAI-implementers] Bad resumptionToken, implementation of it,
 or user error?
</A></li>
        <LI> Next message: <A HREF="000737.html">[OAI-implementers] identifier question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#736">[ date ]</a>
              <a href="thread.html#736">[ thread ]</a>
              <a href="subject.html#736">[ subject ]</a>
              <a href="author.html#736">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html;charset=ISO-8859-1&quot;&gt;
  &lt;title&gt;&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
Simeon,&lt;br&gt;
&lt;br&gt;
As I suspected, it was user error. &amp;nbsp;I wasn't encoding the resumptionToken
correctly. Now it works for me. Thanks! &lt;br&gt;
&lt;br&gt;
Thor&lt;br&gt;
&lt;br&gt;
Simeon Warner wrote:&lt;br&gt;
&lt;blockquote type=&quot;cite&quot;
 cite=&quot;<A HREF="mailto:midPine.LNX.4.44.0212180944120.2086-100000@ice.cs.cornell.edu">midPine.LNX.4.44.0212180944120.2086-100000@ice.cs.cornell.edu</A>&quot;&gt;
  &lt;pre wrap=&quot;&quot;&gt;resumptionToken is no a verb, it is an exclusive argument for 
ListIdentifiers or ListRecords. Your request should look something 
like:

GET baseURL?verb=ListRecords&amp;amp;resumptionToken=APPROPRIATELY_ENCODED_RT_HERE

where APPROPRIATELY_ENCODED_RT_HERE is the URL-encoded resumptionToken.

As far as I can see, this site works fine:

oaiharvest.pl: Harvest from &lt;a class=&quot;moz-txt-link-freetext&quot; href=&quot;<A HREF="http://services.nsdl.org:8080/nsdloai/OAI"">http://services.nsdl.org:8080/nsdloai/OAI&quot;</A>&gt;<A HREF="http://services.nsdl.org:8080/nsdloai/OAI</a">http://services.nsdl.org:8080/nsdloai/OAI&lt;/a</A>&gt; using GET
OAIGet: Doing GET to &lt;a class=&quot;moz-txt-link-freetext&quot; href=&quot;<A HREF="http://services.nsdl.org:8080/nsdloai/OAI"">http://services.nsdl.org:8080/nsdloai/OAI&quot;</A>&gt;<A HREF="http://services.nsdl.org:8080/nsdloai/OAI</a">http://services.nsdl.org:8080/nsdloai/OAI&lt;/a</A>&gt; args: verb=Identify
OAIGet: Got 200 OK (1249bytes )
oaiharvest.pl: Identify reports OAI-PMH version 2.0
oaiharvest.pl: Doing complete harvest.
OAIGet: Doing GET to &lt;a class=&quot;moz-txt-link-freetext&quot; href=&quot;<A HREF="http://services.nsdl.org:8080/nsdloai/OAI"">http://services.nsdl.org:8080/nsdloai/OAI&quot;</A>&gt;<A HREF="http://services.nsdl.org:8080/nsdloai/OAI</a">http://services.nsdl.org:8080/nsdloai/OAI&lt;/a</A>&gt; args: verb=ListMetadataFormats
OAIGet: Got 200 OK (1455bytes )
OAIGet: Doing GET to &lt;a class=&quot;moz-txt-link-freetext&quot; href=&quot;<A HREF="http://services.nsdl.org:8080/nsdloai/OAI"">http://services.nsdl.org:8080/nsdloai/OAI&quot;</A>&gt;<A HREF="http://services.nsdl.org:8080/nsdloai/OAI</a">http://services.nsdl.org:8080/nsdloai/OAI&lt;/a</A>&gt; args: verb=ListSets
OAIGet: Got 200 OK (11405bytes )
OAIGet: Doing GET to &lt;a class=&quot;moz-txt-link-freetext&quot; href=&quot;<A HREF="http://services.nsdl.org:8080/nsdloai/OAI"">http://services.nsdl.org:8080/nsdloai/OAI&quot;</A>&gt;<A HREF="http://services.nsdl.org:8080/nsdloai/OAI</a">http://services.nsdl.org:8080/nsdloai/OAI&lt;/a</A>&gt; args: metadataPrefix=oai_dc&amp;amp;verb=ListRecords
OAIGet: Got 200 OK (1044772bytes )
oaiharvest.pl: Got 250 records (running total: 250)
oaiharvest.pl: Got resumptionToken: `metadataPrefix=oai_dc&amp;amp;origRequestTime=2002-12-18T14:52:25Z&amp;amp;expireOnUpdate=false&amp;amp;resumeAfter=oai:nsdl.org:Alexandria:O3311517.SWS'
OAIGet: Doing GET to &lt;a class=&quot;moz-txt-link-freetext&quot; href=&quot;<A HREF="http://services.nsdl.org:8080/nsdloai/OAI"">http://services.nsdl.org:8080/nsdloai/OAI&quot;</A>&gt;<A HREF="http://services.nsdl.org:8080/nsdloai/OAI</a">http://services.nsdl.org:8080/nsdloai/OAI&lt;/a</A>&gt; args: resumptionToken=metadataPrefix%3Doai_dc%26origRequestTime%3D2002-12-18T14%3A52%3A25Z%26expireOnUpdate%3Dfalse%26resumeAfter%3Doai%3Ansdl.org%3AAlexandria%3AO3311517.SWS&amp;amp;verb=ListRecords
OAIGet: Got 200 OK (1055218bytes )
oaiharvest.pl: Got 250 records (running total: 500)
...

Cheers,
Simeon.


On Wed, 18 Dec 2002, Thor Anderson wrote:
  &lt;/pre&gt;
  &lt;blockquote type=&quot;cite&quot;&gt;
    &lt;pre wrap=&quot;&quot;&gt; Hi,

I've been trying out the OAI 2.0 protocol on the NSDL repository at &lt;a class=&quot;moz-txt-link-freetext&quot; href=&quot;<A HREF="http://services.nsdl.org:8080/nsdloai/OAI"">http://services.nsdl.org:8080/nsdloai/OAI&quot;</A>&gt;<A HREF="http://services.nsdl.org:8080/nsdloai/OAI</a">http://services.nsdl.org:8080/nsdloai/OAI&lt;/a</A>&gt;  When I send the following request &lt;a class=&quot;moz-txt-link-rfc2396E&quot; href=&quot;<A HREF="http://services.nsdl.org:8080/nsdloai/OAI?verb=ListRecords&from=2002-01-01&metadataPrefix=oai_dc"">http://services.nsdl.org:8080/nsdloai/OAI?verb=ListRecords&amp;from=2002-01-01&amp;metadataPrefix=oai_dc&quot;</A>&gt;&quot;<A HREF="http://services.nsdl.org:8080/nsdloai/OAI?verb=ListRecords&amp;from=2002-01-01&amp;metadataPrefix=oai_dc"</a">http://services.nsdl.org:8080/nsdloai/OAI?verb=ListRecords&amp;amp;from=2002-01-01&amp;amp;metadataPrefix=oai_dc&quot;&lt;/a</A>&gt; 
I get back an imcomplete list of 250 records and the following resumption token 
&quot;from=2002-01-01&amp;amp;amp;metadataPrefix=oai_dc&amp;amp;amp;origRequestTime=2002-12-16T19:43:00Z&amp;amp;amp;
    &lt;/pre&gt;
  &lt;/blockquote&gt;
  &lt;pre wrap=&quot;&quot;&gt;&lt;!----&gt;expireOnUpdate=false&amp;amp;amp;resumeAfter=oai:nsdl.org:Alexandria:O3311517.SWS&quot;
  &lt;/pre&gt;
  &lt;blockquote type=&quot;cite&quot;&gt;
    &lt;pre wrap=&quot;&quot;&gt;When I try to use the resumptionToken verb and give it this token 
(whether encoded or not), I get &quot;resumptionToken is not a legal OAI-PMH 
2.0 verb.&quot; which seems untrue based upon the OAI protocol document I'm 
reading.  I can't tell whether that is really an illegal verb or the 
NSDL implementation is wrong or I'm not using the resumptionToken verb 
properly.

Any help would be greatly appreciated.

Thor Anderson


_______________________________________________ OAI-implementers mailing list &lt;a class=&quot;moz-txt-link-abbreviated&quot; href=&quot;mailto:<A HREF="mailto:OAI-implementers@oaisrv.nsdl.cornell.edu">OAI-implementers@oaisrv.nsdl.cornell.edu</A>&quot;&gt;<A HREF="mailto:OAI-implementers@oaisrv.nsdl.cornell.edu">OAI-implementers@oaisrv.nsdl.cornell.edu</A>&lt;/a&gt;
&lt;a class=&quot;moz-txt-link-freetext&quot; href=&quot;<A HREF="http://oaisrv.nsdl.cornell.edu/mailman/listinfo/oai-implementers"">http://oaisrv.nsdl.cornell.edu/mailman/listinfo/oai-implementers&quot;</A>&gt;<A HREF="http://oaisrv.nsdl.cornell.edu/mailman/listinfo/oai-implementers</a">http://oaisrv.nsdl.cornell.edu/mailman/listinfo/oai-implementers&lt;/a</A>&gt;

    &lt;/pre&gt;
  &lt;/blockquote&gt;
  &lt;pre wrap=&quot;&quot;&gt;&lt;!----&gt;
  &lt;/pre&gt;
&lt;/blockquote&gt;
&lt;br&gt;
&lt;/body&gt;
&lt;/html&gt;



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000735.html">[OAI-implementers] Bad resumptionToken, implementation of it,
 or user error?
</A></li>
	<LI> Next message: <A HREF="000737.html">[OAI-implementers] identifier question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#736">[ date ]</a>
              <a href="thread.html#736">[ thread ]</a>
              <a href="subject.html#736">[ subject ]</a>
              <a href="author.html#736">[ author ]</a>
         </LI>
       </UL>
</body></html>
