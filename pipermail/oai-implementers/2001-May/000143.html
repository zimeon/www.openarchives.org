<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [OAI-implementers] new records in combination with a resumptionToken
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:liu_x%40cs.odu.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000142.html">
   <LINK REL="Next"  HREF="000141.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OAI-implementers] new records in combination with a resumptionToken
   </H1>
    <B>Xiaoming Liu
    </B> 
    <A HREF="mailto:liu_x%40cs.odu.edu"
       TITLE="[OAI-implementers] new records in combination with a resumptionToken">liu_x@cs.odu.edu
       </A><BR>
    <I>Fri, 25 May 2001 16:16:10 -0400 (EDT)</I>
    <P><UL>
        <LI> Previous message: <A HREF="000142.html">[OAI-implementers] harvesting strategy
</A></li>
        <LI> Next message: <A HREF="000141.html">[OAI-implementers] new records in combination with a resumptionToken
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#143">[ date ]</a>
              <a href="thread.html#143">[ thread ]</a>
              <a href="subject.html#143">[ subject ]</a>
              <a href="author.html#143">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, Hussein and Jozef,

First, in the arc service provider, we actually used the method you
mentioned below.

&gt;<i> b) always ask for a 2 day overlap ending on the current date
</I>
Except that the &quot;2 day&quot; is cutomizable.

Secondly, about Jozef's question, I thought duplicate records also
happen in other scenarios of OAI request.
(a) same record belongs to different sets, and harvester harvests by set.
(b) Record is changed since last harvest. So datestamp is changed but ID
is intact.

Harvester has to deal with duplicate records anyway, it could simply
update local copy, or check datestamp first, then do update if necessary,
depending on the overhead of reindex.

So I believe it's not necessary to explictly avoid the scenario in your
application.


regards,
liu


 




On Wed, 23 May 2001, Hussein Suleman wrote:

&gt;<i> ntent-transfer-encoding: 7bit
</I>&gt;<i> 
</I>&gt;<i> hi
</I>&gt;<i> 
</I>&gt;<i> this is an interesting problem so im going to share some of our
</I>&gt;<i> discussions here at virginia tech that are relevant to this problem ...
</I>&gt;<i> 
</I>&gt;<i> of course there is no general solution since i think the OAI quite
</I>&gt;<i> deftly avoided handling too much complication in the protocol ... that
</I>&gt;<i> said, there are two very interesting &quot;solutions&quot;, one of which is
</I>&gt;<i> probably relevant to you:
</I>&gt;<i> 
</I>&gt;<i> firstly, i recall a while back someone (cant remember who) related how
</I>&gt;<i> they implemented the protocol by making a temporary table to support
</I>&gt;<i> resumptions ... this would probably solve your problem but would require
</I>&gt;<i> a bit more work ...
</I>&gt;<i> 
</I>&gt;<i> the alternative is to consider how service providers work (at least this
</I>&gt;<i> is how we thought it through when building our first experimental
</I>&gt;<i> harvester):
</I>&gt;<i> 
</I>&gt;<i> a) since you can always add records at any time during the day and the
</I>&gt;<i> granularity of harvesting is a day, you cannot trust data you got on the
</I>&gt;<i> same day.
</I>&gt;<i> 
</I>&gt;<i> b) since dates are local to different timezones, if the data provider is
</I>&gt;<i> west of the service provider, asking for everything up until yesterday
</I>&gt;<i> is not &quot;interoperationally stable&quot; since it could still be yesterday at
</I>&gt;<i> the data provider.
</I>&gt;<i> 
</I>&gt;<i> now there are multiple solutions to this and we tried implementing some:
</I>&gt;<i> a) dont get anything newer than 2 days old
</I>&gt;<i> b) always ask for a 2 day overlap ending on the current date
</I>&gt;<i> c) use a 1-day overlap and operate in the timezone of the data provider
</I>&gt;<i> (extract an initial responseDate from the data provider and then
</I>&gt;<i> increment locally)
</I>&gt;<i> 
</I>&gt;<i> as far as we can figure, any service provider that wants to avoid
</I>&gt;<i> missing data entries has to do something like this ... since new data is
</I>&gt;<i> not &quot;stable&quot; for harvesting it is not trusted and/or not harvested
</I>&gt;<i> immediately and your problem of database updates pretty much disappears
</I>&gt;<i> as long as harvesting is by date (which i trust it almost always is)
</I>&gt;<i> 
</I>&gt;<i> ok, i know this is probably way too much detail for this question :) but
</I>&gt;<i> i just wanted to share these thoughts to see if they aligned with the
</I>&gt;<i> harvesting approaches used by other people building service provider
</I>&gt;<i> interfaces ...
</I>&gt;<i> 
</I>&gt;<i> any further comments will be appreciated ...
</I>&gt;<i> 
</I>&gt;<i> ttfn
</I>&gt;<i> ----hussein
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> ========================================================================
</I>&gt;<i> hussein suleman -- <A HREF="mailto:hussein@vt.edu">hussein@vt.edu</A> -- vtcs -- <A HREF="http://purl.org/net/hussein">http://purl.org/net/hussein</A>
</I>&gt;<i> =========================================
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000142.html">[OAI-implementers] harvesting strategy
</A></li>
	<LI> Next message: <A HREF="000141.html">[OAI-implementers] new records in combination with a resumptionToken
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#143">[ date ]</a>
              <a href="thread.html#143">[ thread ]</a>
              <a href="subject.html#143">[ subject ]</a>
              <a href="author.html#143">[ author ]</a>
         </LI>
       </UL>
</body></html>
