<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [OAI-implementers] new records in combination with a resumptionToken
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jozef%40nl.adlibsoft.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000136.html">
   <LINK REL="Next"  HREF="000139.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OAI-implementers] new records in combination with a resumptionToken
   </H1>
    <B>Jozef Kruger
    </B> 
    <A HREF="mailto:jozef%40nl.adlibsoft.com"
       TITLE="[OAI-implementers] new records in combination with a resumptionToken">jozef@nl.adlibsoft.com
       </A><BR>
    <I>Wed, 23 May 2001 12:06:50 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="000136.html">[OAI-implementers] dealing with non-existent Sets
</A></li>
        <LI> Next message: <A HREF="000139.html">[OAI-implementers] new records in combination with a
 resumptionToken
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#138">[ date ]</a>
              <a href="thread.html#138">[ thread ]</a>
              <a href="subject.html#138">[ subject ]</a>
              <a href="author.html#138">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C0E370.16D3387C
Content-Type: text/plain;
	charset=&quot;iso-8859-1&quot;

Hello everybody,
 
when implementing the resumptionToken-stuff, the following problem arose:
Our database has a function startfrom-limit(n, m) which starts at the n'th
record and get's m records.
It ignores the first (n-1) records, the records are ordered by record
number.
When ListRecords is called, I return the first 10 records in my database
(with recordnumbers 1..6, 8..11), followed by a resumptionToken.
As follows: startfrom-limit(1, 10);
The next second a record is added to the database and it get's record number
7 (the lowest free record number).
When the resumptionToken is used, I return the records 11-20 in my database,

as follows: startfrom-limit(11, 10);
but having added the record number 7, the record with record number 11 will
be return twice.
Is it necessary to explicitly avoid this behaviour? I ask this because I
think this situation is quite rare (or am I wrong?).
 
thanks in advance :)
 
cheers,
Jozef Kruger
-----------------------------------------------
Jozef Kruger, junior programmer.

    Adlib Information Systems
     www.adlibsoft.com &lt;<A HREF="http://www.adlibsoft.com">http://www.adlibsoft.com</A>&gt; 

-----------------------------------------------
 

------_=_NextPart_001_01C0E370.16D3387C
Content-Type: text/html;
	charset=&quot;iso-8859-1&quot;
Content-Transfer-Encoding: quoted-printable

&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0 Transitional//EN&quot;&gt;
&lt;HTML&gt;&lt;HEAD&gt;
&lt;META HTTP-EQUIV=3D&quot;Content-Type&quot; CONTENT=3D&quot;text/html; =
charset=3Diso-8859-1&quot;&gt;


&lt;META content=3D&quot;MSHTML 5.00.2920.0&quot; name=3DGENERATOR&gt;&lt;/HEAD&gt;
&lt;BODY&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;SPAN class=3D710344709-23052001&gt;Hello =

everybody,&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;SPAN=20
class=3D710344709-23052001&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;&lt;FONT face=3DArial =
size=3D2&gt;&lt;SPAN=20
class=3D710344709-23052001&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;SPAN class=3D710344709-23052001&gt;when =
implementing=20
the resumptionToken-stuff, the following problem =
arose:&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;SPAN class=3D710344709-23052001&gt;Our =
database has a=20
function startfrom-limit(n, m) which starts at the n'th record and =
get's m=20
records.&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;SPAN class=3D710344709-23052001&gt;It =
ignores the first=20
(n-1) records, the records are ordered by record =
number.&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;SPAN class=3D710344709-23052001&gt;When =
ListRecords is=20
called, &lt;/SPAN&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;SPAN=20
class=3D710344709-23052001&gt;I return the first 10 records in my database =
(with=20
recordnumbers 1..6, 8..11), followed by a =
resumptionToken.&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;SPAN class=3D710344709-23052001&gt;As =
follows:=20
startfrom-limit(1, 10);&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;SPAN class=3D710344709-23052001&gt;The =
next second a=20
record is added to the database and it get's record number 7 (the =
lowest free=20
record number).&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;SPAN class=3D710344709-23052001&gt;When =
the=20
resumptionToken is used, I return the records 11-20 in my database,=20
&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;SPAN class=3D710344709-23052001&gt;as =
follows:=20
startfrom-limit(11, 10);&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;SPAN class=3D710344709-23052001&gt;but =
having added the=20
record number 7, the record with record number 11 will be return=20
twice.&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;SPAN class=3D710344709-23052001&gt;Is it =
necessary to=20
explicitly avoid this behaviour? I ask this because I think this =
situation is=20
quite rare (or am I wrong?).&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;SPAN=20
class=3D710344709-23052001&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;SPAN =
class=3D710344709-23052001&gt;thanks in advance=20
:<i>)&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;
</I>&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;SPAN=20
class=3D710344709-23052001&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;SPAN=20
class=3D710344709-23052001&gt;cheers,&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;SPAN class=3D710344709-23052001&gt;Jozef =

Kruger&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;SPAN class=3D710344709-23052001&gt;
&lt;DIV align=3Dleft&gt;&lt;PRE align=3D&quot;left&quot;&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;SPAN =
class=3D710344709-23052001&gt;---------------------------------------------=
--&lt;BR&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;FONT face=3DArial size=3D2&gt;Jozef Kruger, junior =
programmer.
    Adlib Information Systems&lt;BR&gt;&lt;SPAN class=3D710344709-23052001&gt;    =
&lt;A href=3D&quot;<A HREF="http://www.adlibsoft.com"">http://www.adlibsoft.com&quot;</A>&gt;www.adlibsoft.com&lt;/A&gt;&lt;/SPAN&gt;
-----------------------------------------------&lt;/FONT&gt;&lt;/PRE&gt;&lt;/DIV&gt;&lt;/SPAN=
&gt;<i>&lt;/DIV&gt;
</I>&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;SPAN=20
class=3D710344709-23052001&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;

------_=_NextPart_001_01C0E370.16D3387C--

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000136.html">[OAI-implementers] dealing with non-existent Sets
</A></li>
	<LI> Next message: <A HREF="000139.html">[OAI-implementers] new records in combination with a
 resumptionToken
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#138">[ date ]</a>
              <a href="thread.html#138">[ thread ]</a>
              <a href="subject.html#138">[ subject ]</a>
              <a href="author.html#138">[ author ]</a>
         </LI>
       </UL>
</body></html>
