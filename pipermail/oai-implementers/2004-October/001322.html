<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [OAI-implementers] Branding
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:oai-implementers%40openarchives.org?Subject=%5BOAI-implementers%5D%20Branding&In-Reply-To=Pine.LNX.4.58.0410041726210.25377%40dhcp103-124.cs.cornell.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001321.html">
   <LINK REL="Next"  HREF="001323.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OAI-implementers] Branding</H1>
    <B>Jeffrey A. Young</B> 
    <A HREF="mailto:oai-implementers%40openarchives.org?Subject=%5BOAI-implementers%5D%20Branding&In-Reply-To=Pine.LNX.4.58.0410041726210.25377%40dhcp103-124.cs.cornell.edu"
       TITLE="[OAI-implementers] Branding">jyoung1 at columbus.rr.com
       </A><BR>
    <I>Mon Oct  4 23:34:47 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="001321.html">[OAI-implementers] Branding
</A></li>
        <LI>Next message: <A HREF="001323.html">[OAI-implementers] Re: Part II: Proposed corrections/fixes to
 OAI-PMH protocol document and schema
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1322">[ date ]</a>
              <a href="thread.html#1322">[ thread ]</a>
              <a href="subject.html#1322">[ subject ]</a>
              <a href="author.html#1322">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> While I understand Jeff's concern about running XSLT processes on one's
</I>&gt;<i> server, I don't see any real difference between a service provider doing
</I>&gt;<i> that (perhaps in a well-controlled sandbox) or asking a downstream user to
</I>&gt;<i> do it in their browser.
</I>
Unless someone knows of an existing XSLT processor that will timeout in this
situation, I can't imagine how to set up such a sandbox on my machine. This
situation on a server is much more critical than in a browser because it is
much more inconvenient to restart my server when it hangs in the middle of
the night than it is to kill a browser that is hung while I'm sitting in
front of it.

The major advantage to my model is that the risk is virtually eliminated
since no one in the XSLTProc network would dare catalog a problematic
stylesheet. If no one is willing to run it, I will simply ignore it and
apply a default stylesheet instead.

Jeff

&gt;<i> One might even argue that service provider is
</I>&gt;<i> likely better equipped to control the dangers than a downstream user?
</I>&gt;<i> 
</I>&gt;<i> The branding spec says that &quot;the style sheet must be able to render the
</I>&gt;<i> metadata part of a GetRecord response&quot; which is rather vague (for which
</I>&gt;<i> I'm partly to blame). Should this say instead that &quot;the style sheet must
</I>&gt;<i> be able to render the &lt;metadata&gt; part of a &lt;record&gt; response&quot; meaning that
</I>&gt;<i> one could give it a record from a GetRecord or a record from a ListRecords
</I>&gt;<i> response? The latter sounds more useful to me.
</I>&gt;<i> 
</I>&gt;<i> XHTML:
</I>&gt;<i> 
</I>&gt;<i> This seems the obvious default at present. However, XSLT1.0 doesn't have
</I>&gt;<i> an XHTML output method (XSLT2.0 does but I hear tools for that aren't
</I>&gt;<i> ready for prime-time yet, and the spec is just a Working Draft). With XSLT
</I>&gt;<i> 1.0 I think that means one should probably use the 'xml' output method to
</I>&gt;<i> avoid problems with possible collapsing of empty elements to ill-formed
</I>&gt;<i> xml (e.g. &lt;p/&gt; -&gt; &lt;p&gt;, see:
</I>&gt;<i> <A HREF="http://www.w3.org/TR/xslt#section-HTML-Output-Method">http://www.w3.org/TR/xslt#section-HTML-Output-Method</A>)
</I>&gt;<i> 
</I>&gt;<i> I agree with Hussein that it would be sensible to add an outputMimeType
</I>&gt;<i> attribute to the &lt;metadataRendering&gt; element. Can anyone see a reason not
</I>&gt;<i> to do this? (I should also fix the mimeType type in the schema which
</I>&gt;<i> has a pattern that is too restrictive to permit all mime types).
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Incidentally, I added a metadataRendering declaration to
</I>&gt;<i> <A HREF="http://arXiv.org/oai2">http://arXiv.org/oai2</A> so I suppose there are now 5 repositories that do
</I>&gt;<i> it.
</I>&gt;<i> 
</I>&gt;<i> Cheers,
</I>&gt;<i> Simeon
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Sat, 2 Oct 2004, Jeffrey A. Young wrote:
</I>&gt;<i> &gt; I vote against fragments. The reason is a little involved.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The problem starts with the fact that I am not willing to run unknown
</I>&gt;<i> &gt; stylesheets on my machine. As mentioned at the bottom of section 5.4 of
</I>&gt;<i> the
</I>&gt;<i> &gt; XSLT spec (<A HREF="http://www.w3.org/TR/xslt#section-Applying-Template-Rules">http://www.w3.org/TR/xslt#section-Applying-Template-Rules</A>),
</I>&gt;<i> there
</I>&gt;<i> &gt; is a denial of service risk associated with running stylesheets.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The solution I've come up with is to create an XSLT processor web
</I>&gt;<i> service
</I>&gt;<i> &gt; coupled with a catalog of stylesheets that the processor service is
</I>&gt;<i> willing
</I>&gt;<i> &gt; to perform. This has been bundled into an open-source Java Servlet
</I>&gt;<i> &gt; distribution named XSLTProc so anyone can set it up to support
</I>&gt;<i> stylesheets
</I>&gt;<i> &gt; they are interested in using. The parameters to this service are the
</I>&gt;<i> same as
</I>&gt;<i> &gt; they would be calling the XSLT processor from the command line.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The catalog for this service will be OAI-harvestable which will allow me
</I>&gt;<i> to
</I>&gt;<i> &gt; create a union catalog and couple that with another open-source web
</I>&gt;<i> service
</I>&gt;<i> &gt; that accepts the same arguments XSLTProc does, except that instead of
</I>&gt;<i> &gt; performing the transform, it will perform an HTTP redirect to a willing
</I>&gt;<i> &gt; XSLTProc service instead.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; This solution may be less efficient than running the stylesheet
</I>&gt;<i> directly,
</I>&gt;<i> &gt; but it is the only way I can think of to manage the risk of running
</I>&gt;<i> unknown
</I>&gt;<i> &gt; stylesheets. There are many other interesting and uses for this model,
</I>&gt;<i> &gt; though, that I won't go into now.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Getting back to the problem with fragments, a stylesheet that produces
</I>&gt;<i> &gt; fragments would be fine if I imported it locally into another
</I>&gt;<i> stylesheet,
</I>&gt;<i> &gt; for example, but I think the XSLTProc service must be bound to produce
</I>&gt;<i> &gt; well-formed XML so that the client can manage the response using XML
</I>&gt;<i> tools
</I>&gt;<i> &gt; rather than being forced to treat it as a string.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Sorry that this has led to such a tangent, but this is the problem and
</I>&gt;<i> &gt; solution I am facing.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Jeff
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; -----Original Message-----
</I>&gt;<i> &gt; &gt; From: <A HREF="http://openarchives.org/mailman/listinfo/oai-implementers">oai-implementers-bounces at openarchives.org</A> [mailto:oai-
</I>&gt;<i> implementers-
</I>&gt;<i> &gt; &gt; <A HREF="http://openarchives.org/mailman/listinfo/oai-implementers">bounces at openarchives.org</A>] On Behalf Of Hussein Suleman
</I>&gt;<i> &gt; &gt; Sent: Saturday, October 02, 2004 12:48 PM
</I>&gt;<i> &gt; &gt; To: Young,Jeff
</I>&gt;<i> &gt; &gt; Cc: <A HREF="http://openarchives.org/mailman/listinfo/oai-implementers">oai-implementers at oaisrv.nsdl.cornell.edu</A>
</I>&gt;<i> &gt; &gt; Subject: Re: [OAI-implementers] Branding
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; hi Jeff
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; i would vote in favour of standalone XHTML 1.0.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; at first fragments sounded nicer (for integration), but then what if
</I>&gt;<i> the
</I>&gt;<i> &gt; &gt; rendering is PDF or Mobile-HTML or some such thing ... and then again
</I>&gt;<i> &gt; &gt; XHTML is sooner or later going to be v2.0 anyway. with a complete
</I>&gt;<i> &gt; &gt; document, we can at least make the assumption of a mime type and
</I>&gt;<i> promote
</I>&gt;<i> &gt; &gt; this to a problem the browser mediates.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; then maybe in a later &quot;bugfix&quot;, Simeon (or whoever is the maintainer)
</I>&gt;<i> &gt; &gt; can introduce a &quot;target-mime-type&quot; attribute or some such mechanism in
</I>&gt;<i> &gt; &gt; the metadataRendering container.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; but is there a mime type for HTML fragments? if there is, then maybe
</I>&gt;<i> the
</I>&gt;<i> &gt; &gt; fragment is the way to go ... as long as down the road we can widen
</I>&gt;<i> the
</I>&gt;<i> &gt; &gt; scope without any changes. if there is no fragment mime type, maybe we
</I>&gt;<i> &gt; &gt; can introduce one :)
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; ttfn,
</I>&gt;<i> &gt; &gt; ----hussein
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Young,Jeff wrote:
</I>&gt;<i> &gt; &gt; &gt; I have an immediate need for a best-practices description for
</I>&gt;<i> creating
</I>&gt;<i> &gt; &gt; XSLT
</I>&gt;<i> &gt; &gt; &gt; stylesheets for use with the description/branding/metadataRendering
</I>&gt;<i> &gt; &gt; element
</I>&gt;<i> &gt; &gt; &gt; in an OAI Identify response
</I>&gt;<i> &gt; &gt; &gt; (<A HREF="http://www.openarchives.org/OAI/2.0/guidelines-branding.htm">http://www.openarchives.org/OAI/2.0/guidelines-branding.htm</A>).
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; The only guidance this specification gives regarding the stylesheet
</I>&gt;<i> &gt; &gt; itself
</I>&gt;<i> &gt; &gt; &gt; is &quot;the style sheet must be able to render the metadata part of a
</I>&gt;<i> &gt; &gt; GetRecord
</I>&gt;<i> &gt; &gt; &gt; response for the specific metadata format&quot;. Unfortunately, it
</I>&gt;<i> doesn't
</I>&gt;<i> &gt; &gt; say
</I>&gt;<i> &gt; &gt; &gt; what the stylesheet should render it into. Should it be an HTML
</I>&gt;<i> fragment
</I>&gt;<i> &gt; &gt; &gt; suitable for dropping into the body of an HTML document? Should it
</I>&gt;<i> be a
</I>&gt;<i> &gt; &gt; &gt; stand-alone XHTML document ready to display in a browser? Can I
</I>&gt;<i> depend
</I>&gt;<i> &gt; &gt; on
</I>&gt;<i> &gt; &gt; &gt; the result being assigned to a particular namespace? There are
</I>&gt;<i> limits to
</I>&gt;<i> &gt; &gt; how
</I>&gt;<i> &gt; &gt; &gt; many variants I should have to attempt in order to parse the result
</I>&gt;<i> and
</I>&gt;<i> &gt; &gt; use
</I>&gt;<i> &gt; &gt; &gt; it.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; There are only 4 repositories registered at UIUC that currently use
</I>&gt;<i> this
</I>&gt;<i> &gt; &gt; the
</I>&gt;<i> &gt; &gt; &gt; metadataRendering element, two of which are mine
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> (<A HREF="http://gita.grainger.uiuc.edu/registry/ListReposWithDesc.asp?desc=brandin">http://gita.grainger.uiuc.edu/registry/ListReposWithDesc.asp?desc=brandin</A>
</I>&gt;<i> &gt; &gt; g)
</I>&gt;<i> &gt; &gt; &gt; . I am on the verge, however, of creating a system that depends on
</I>&gt;<i> them,
</I>&gt;<i> &gt; &gt; as
</I>&gt;<i> &gt; &gt; &gt; well as updating many of my repositories to include them.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; It would be nice to have this group's consensus before I commit to a
</I>&gt;<i> &gt; &gt; &gt; particular solution.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; Jeff
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; &gt; OAI-implementers mailing list
</I>&gt;<i> &gt; &gt; &gt; List information, archives, preferences and to unsubscribe:
</I>&gt;<i> &gt; &gt; &gt; <A HREF="http://openarchives.org/mailman/listinfo/oai-implementers">http://openarchives.org/mailman/listinfo/oai-implementers</A>
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; --
</I>&gt;<i> &gt; &gt; =====================================================================
</I>&gt;<i> &gt; &gt; hussein suleman ~ <A HREF="http://openarchives.org/mailman/listinfo/oai-implementers">hussein at cs.uct.ac.za</A> ~ <A HREF="http://www.husseinsspace.com">http://www.husseinsspace.com</A>
</I>&gt;<i> &gt; &gt; =====================================================================
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; OAI-implementers mailing list
</I>&gt;<i> &gt; &gt; List information, archives, preferences and to unsubscribe:
</I>&gt;<i> &gt; &gt; <A HREF="http://openarchives.org/mailman/listinfo/oai-implementers">http://openarchives.org/mailman/listinfo/oai-implementers</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; OAI-implementers mailing list
</I>&gt;<i> &gt; List information, archives, preferences and to unsubscribe:
</I>&gt;<i> &gt; <A HREF="http://openarchives.org/mailman/listinfo/oai-implementers">http://openarchives.org/mailman/listinfo/oai-implementers</A>
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> OAI-implementers mailing list
</I>&gt;<i> List information, archives, preferences and to unsubscribe:
</I>&gt;<i> <A HREF="http://openarchives.org/mailman/listinfo/oai-implementers">http://openarchives.org/mailman/listinfo/oai-implementers</A>
</I>


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001321.html">[OAI-implementers] Branding
</A></li>
	<LI>Next message: <A HREF="001323.html">[OAI-implementers] Re: Part II: Proposed corrections/fixes to
 OAI-PMH protocol document and schema
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1322">[ date ]</a>
              <a href="thread.html#1322">[ thread ]</a>
              <a href="subject.html#1322">[ subject ]</a>
              <a href="author.html#1322">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.openarchives.org/mailman/listinfo/oai-implementers">More information about the OAI-implementers
mailing list</a><br>
</body></html>
