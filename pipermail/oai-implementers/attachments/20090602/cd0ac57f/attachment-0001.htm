<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;style&gt;<br>
.hmmessage&nbsp;P<br>
{<br>
margin:0px;<br>
padding:0px<br>
}<br>
body.hmmessage<br>
{<br>
font-size:&nbsp;10pt;<br>
font-family:Verdana<br>
}<br>
&lt;/style&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;class='hmmessage'&gt;<br>
Hi,&lt;br&gt;&lt;br&gt;I&nbsp;am&nbsp;very&nbsp;new&nbsp;to&nbsp;OAI,&nbsp;so&nbsp;I&nbsp;am&nbsp;limited&nbsp;help,&nbsp;and&nbsp;more&nbsp;looking&nbsp;to&nbsp;learn&nbsp;myself.&lt;br&gt;&lt;br&gt;The&nbsp;burden&nbsp;might&nbsp;be&nbsp;on&nbsp;the&nbsp;harvester.&amp;nbsp;&nbsp;The&nbsp;Implementation&nbsp;Guidelines&nbsp;for&nbsp;harvesters&nbsp;appears&nbsp;to&nbsp;address&nbsp;this&nbsp;in&nbsp;section&nbsp;3,&nbsp;stating&nbsp;that&nbsp;harvesters&nbsp;should&nbsp;overlap&nbsp;requests.&amp;nbsp;&nbsp;And&nbsp;it&nbsp;would&nbsp;seem&nbsp;a&nbsp;good&nbsp;implementation&nbsp;should&nbsp;base&nbsp;the&nbsp;&quot;From&quot;&nbsp;in&nbsp;subsequent&nbsp;requests&nbsp;based&nbsp;on&nbsp;previous&nbsp;harvesting&nbsp;timestamps&nbsp;found&nbsp;in&nbsp;the&nbsp;records&nbsp;themselves&nbsp;-&nbsp;not&nbsp;their&nbsp;own&nbsp;arbitrarily&nbsp;chosen&nbsp;&quot;until&quot;&nbsp;value.&lt;br&gt;&lt;br&gt;The&nbsp;later&nbsp;problem&nbsp;you&nbsp;mention&nbsp;seems&nbsp;to&nbsp;be&nbsp;a&nbsp;problem&nbsp;that&nbsp;is&nbsp;solved&nbsp;by&nbsp;mirrors&nbsp;/&nbsp;load&nbsp;balancing.&amp;nbsp;&nbsp;With&nbsp;a&nbsp;mirror,&nbsp;you&nbsp;essentially&nbsp;have&nbsp;2&nbsp;copies&nbsp;of&nbsp;the&nbsp;site,&nbsp;and&nbsp;use&nbsp;a&nbsp;302&nbsp;HTTP&nbsp;codes&nbsp;to&nbsp;stop&nbsp;requests&nbsp;to&nbsp;the&nbsp;site&nbsp;you&nbsp;are&nbsp;updating&nbsp;and&nbsp;redirect&nbsp;to&nbsp;the&nbsp;other&nbsp;copy.&amp;nbsp;&amp;nbsp;&nbsp;With&nbsp;a&nbsp;load&nbsp;balancer&nbsp;this&nbsp;site&nbsp;switching&nbsp;can&nbsp;be&nbsp;done&nbsp;invisibly&nbsp;to&nbsp;the&nbsp;harvester.&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&amp;gt;&nbsp;Date:&nbsp;Tue,&nbsp;2&nbsp;Jun&nbsp;2009&nbsp;13:37:01&nbsp;+0200&lt;br&gt;&amp;gt;&nbsp;From:&nbsp;Rozita.Fridman@FIZ-Karlsruhe.DE&lt;br&gt;&amp;gt;&nbsp;To:&nbsp;oai-implementers@openarchives.org&lt;br&gt;&amp;gt;&nbsp;Subject:&nbsp;[OAI-implementers]&nbsp;issues&nbsp;with&nbsp;OAI-PMH&nbsp;specifications&nbsp;for&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspOAI-Provider&nbsp;implementations&nbsp;using&nbsp;a&nbsp;cache&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;Hello&nbsp;all,&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;we&nbsp;developed&nbsp;an&nbsp;OAI-Provider&nbsp;for&nbsp;Escidoc&nbsp;repositories.&lt;br&gt;&amp;gt;&nbsp;Escidoc-OAI-Provider&nbsp;is&nbsp;based&nbsp;on&nbsp;the&nbsp;Fedora-OAI-Provider,&nbsp;which&nbsp;uses&nbsp;a&lt;br&gt;&amp;gt;&nbsp;cache&nbsp;to&nbsp;reduce&nbsp;a&nbsp;response&nbsp;time.&nbsp;Escidoc&nbsp;repositories&nbsp;intend&nbsp;to&nbsp;contain&lt;br&gt;&amp;gt;&nbsp;multiple&nbsp;millions&nbsp;of&nbsp;objects.&nbsp;The&nbsp;Escidoc-Core&nbsp;framework&nbsp;only&nbsp;requires&lt;br&gt;&amp;gt;&nbsp;that&nbsp;objects&nbsp;metadata&nbsp;stored&nbsp;in&nbsp;a&nbsp;Escidoc&nbsp;repository&nbsp;are&nbsp;well&nbsp;formed&lt;br&gt;&amp;gt;&nbsp;xml-structures.&nbsp;Therefore&nbsp;using&nbsp;of&nbsp;a&nbsp;cache&nbsp;in&nbsp;the&nbsp;Escidoc-OAI-Provider&lt;br&gt;&amp;gt;&nbsp;is&nbsp;essential&nbsp;to&nbsp;ensure&nbsp;validness&nbsp;of&nbsp;metadata&nbsp;in&nbsp;OAI-PMH&nbsp;response&nbsp;and&nbsp;an&lt;br&gt;&amp;gt;&nbsp;acceptable&nbsp;response&nbsp;time.&nbsp;&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;But&nbsp;the&nbsp;current&nbsp;OAI-PMH&nbsp;protocol&nbsp;specification&nbsp;doesn't&nbsp;account&nbsp;for&nbsp;some&lt;br&gt;&amp;gt;&nbsp;issues,&nbsp;caused&nbsp;by&nbsp;the&nbsp;employment&nbsp;of&nbsp;a&nbsp;cache.&lt;br&gt;&amp;gt;&nbsp;&nbsp;&lt;br&gt;&amp;gt;&nbsp;The&nbsp;main&nbsp;problem&nbsp;is&nbsp;a&nbsp;time&nbsp;lag&nbsp;between&nbsp;a&nbsp;harvester&nbsp;request&nbsp;and&nbsp;a&nbsp;last&lt;br&gt;&amp;gt;&nbsp;cache&nbsp;update:&lt;br&gt;&amp;gt;&nbsp;A&nbsp;harvester&nbsp;asks&nbsp;the&nbsp;OAI-Provider&nbsp;for&nbsp;all&nbsp;records&nbsp;that&nbsp;have&nbsp;changed&lt;br&gt;&amp;gt;&nbsp;between&nbsp;T0&nbsp;and&nbsp;T2&nbsp;in&nbsp;the&nbsp;underlying&nbsp;repository.&nbsp;The&nbsp;last&nbsp;cache&nbsp;update&lt;br&gt;&amp;gt;&nbsp;was&nbsp;at&nbsp;T1.The&nbsp;harvester&nbsp;gets&nbsp;records&nbsp;that&nbsp;have&nbsp;changed&nbsp;between&nbsp;T0&nbsp;and&lt;br&gt;&amp;gt;&nbsp;T1,&nbsp;but&nbsp;assumes&nbsp;that&nbsp;it&nbsp;got&nbsp;all&nbsp;changes&nbsp;between&nbsp;T0&nbsp;and&nbsp;T2.&nbsp;Therefore&nbsp;in&lt;br&gt;&amp;gt;&nbsp;the&nbsp;next&nbsp;request&nbsp;it&nbsp;asks&nbsp;for&nbsp;records&nbsp;that&nbsp;have&nbsp;changed&nbsp;between&nbsp;T2&nbsp;and&nbsp;T3&lt;br&gt;&amp;gt;&nbsp;and&nbsp;is&nbsp;missing&nbsp;all&nbsp;changes&nbsp;between&nbsp;T1&nbsp;and&nbsp;T2.&nbsp;If&nbsp;cache&nbsp;update&nbsp;interval&lt;br&gt;&amp;gt;&nbsp;is&nbsp;long&nbsp;and&nbsp;the&nbsp;next&nbsp;cache&nbsp;update&nbsp;takes&nbsp;place&nbsp;after&nbsp;T3,&nbsp;the&nbsp;harvester&nbsp;is&lt;br&gt;&amp;gt;&nbsp;also&nbsp;missing&nbsp;all&nbsp;changes&nbsp;between&nbsp;T2&nbsp;and&nbsp;T3&nbsp;and&nbsp;so&nbsp;on.&lt;br&gt;&amp;gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;&amp;gt;&nbsp;One&nbsp;proposal&nbsp;would&nbsp;be&nbsp;to&nbsp;put&nbsp;a&nbsp;date&nbsp;stamp&nbsp;of&nbsp;the&nbsp;last&nbsp;cache&nbsp;update&nbsp;into&lt;br&gt;&amp;gt;&nbsp;the&nbsp;OAI-PMH&nbsp;response,&nbsp;in&nbsp;order&nbsp;to&nbsp;inform&nbsp;a&nbsp;harvester&nbsp;about&nbsp;possibly&lt;br&gt;&amp;gt;&nbsp;missed&nbsp;records.&nbsp;&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;Does&nbsp;anybody&nbsp;face&nbsp;the&nbsp;same&nbsp;problem?&nbsp;What&nbsp;do&nbsp;you&nbsp;think&nbsp;about&nbsp;it?&nbsp;Maybe&lt;br&gt;&amp;gt;&nbsp;there&nbsp;are&nbsp;better&nbsp;solutions&nbsp;for&nbsp;this&nbsp;problem?&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;The&nbsp;other&nbsp;issue&nbsp;is&nbsp;that&nbsp;depending&nbsp;on&nbsp;the&nbsp;OAI-Provider&nbsp;implementation&nbsp;a&lt;br&gt;&amp;gt;&nbsp;cache&nbsp;may&nbsp;be&nbsp;in&nbsp;an&nbsp;inconsistent&nbsp;state&nbsp;while&nbsp;a&nbsp;cache&nbsp;update&nbsp;process&nbsp;is&lt;br&gt;&amp;gt;&nbsp;running.&nbsp;Are&nbsp;there&nbsp;means&nbsp;in&nbsp;the&nbsp;OAI-PMH&nbsp;protocol&nbsp;to&nbsp;respond&nbsp;to&nbsp;harvester&lt;br&gt;&amp;gt;&nbsp;requests&nbsp;during&nbsp;a&nbsp;cache&nbsp;update?&nbsp;A&nbsp;possible&nbsp;solution&nbsp;would&nbsp;be&nbsp;to&nbsp;respond&lt;br&gt;&amp;gt;&nbsp;with&nbsp;a&nbsp;HTTP-status&nbsp;code&nbsp;503-Service&nbsp;unavailable&nbsp;(section&nbsp;3.1.2.2&nbsp;of&nbsp;the&lt;br&gt;&amp;gt;&nbsp;specification),&nbsp;but&nbsp;the&nbsp;problem&nbsp;is&nbsp;to&nbsp;specify&nbsp;Retry-After&nbsp;period.&nbsp;A&lt;br&gt;&amp;gt;&nbsp;duration&nbsp;of&nbsp;the&nbsp;cache&nbsp;update&nbsp;is&nbsp;not&nbsp;constant,&nbsp;it&nbsp;depends&nbsp;on&nbsp;the&nbsp;changes&lt;br&gt;&amp;gt;&nbsp;in&nbsp;the&nbsp;repository.&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;Thanks&nbsp;a&nbsp;lot,&lt;br&gt;&amp;gt;&nbsp;Rozita&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&lt;br&nbsp;/&gt;&lt;hr&nbsp;/&gt;Insert&nbsp;movie&nbsp;times&nbsp;and&nbsp;more&nbsp;without&nbsp;leaving&nbsp;Hotmail®.&nbsp;&nbsp;&lt;a&nbsp;href='http://windowslive.com/Tutorial/Hotmail/QuickAdd?ocid=TXT_TAGLM_WL_HM_Tutorial_QuickAdd_062009'&nbsp;target='_new'&gt;See&nbsp;how.&lt;/a&gt;&lt;/body&gt;<br>
&lt;/html&gt;
</tt>
