<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [OAI-implementers] XML encoding problems with DSpace at MIT
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stamer%40uni-oldenburg.de">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000770.html">
   <LINK REL="Next"  HREF="000773.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OAI-implementers] XML encoding problems with DSpace at MIT
   </H1>
    <B>Heinrich Stamerjohanns
    </B> 
    <A HREF="mailto:stamer%40uni-oldenburg.de"
       TITLE="[OAI-implementers] XML encoding problems with DSpace at MIT">stamer@uni-oldenburg.de
       </A><BR>
    <I>Mon, 17 Feb 2003 14:04:14 +0100 (CET)</I>
    <P><UL>
        <LI> Previous message: <A HREF="000770.html">[OAI-implementers] XML encoding problems with DSpace at MIT
</A></li>
        <LI> Next message: <A HREF="000773.html">regular expressions for cleanup was: Re: [OAI-implementers] XML encoding problems with DSpace at MIT
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#768">[ date ]</a>
              <a href="thread.html#768">[ thread ]</a>
              <a href="subject.html#768">[ subject ]</a>
              <a href="author.html#768">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, 15 Feb 2003, Hussein Suleman wrote:

&gt;<i>  &gt; The question is, the more harvesters implement fixes the less pressure
</I>&gt;<i>  &gt; there is on repositories to fix their output, so should harvesters
</I>&gt;<i>  &gt; accept bad-XML?
</I>
&gt;<i> hi
</I>&gt;<i>
</I>&gt;<i> i think Tim poses a very relevant question: do we deal with the
</I>&gt;<i> so-called &quot;real-world&quot; encoding problems or do we try to encourage
</I>&gt;<i> people to fix their implementations? (of course, for research purposes,
</I>&gt;<i> we may end up doing both :))
</I>&gt;<i>
</I>
Hi,

If you want a working protocol, you must insist that the data-providers
deliver valid XML.
If they don't deliver valid XML, they are not OAI-compliant, thus some
harvesters will choke, some who try to fix the XML, might not.

The most common problem seems to me (I cannot get to arc.cs.odu.edu, to
see the parsing errors) that people create Unicode from their databases
but forget to remove ISO-control characters, which are not valid in XML
(the comment in XML 1.0 spec was irritating and has been changed in XML
1.1 spec). Maybe this should be explicitly pointed out in the
documentation of the protocol.

So to produce valid xml, something like this should be applied before you
send out the data (this is in php, but is a perlre pattern):


        // just remove invalid characters
        $pattern =&quot;/[\x-\x8\xb-\xc\xe-\x1f]/&quot;;
        $string = preg_replace($pattern,'',$string);


Greetings, Heinrich


--
  Dr. Heinrich Stamerjohanns        Tel. +49-441-798-4276
  Institute for Science Networking  <A HREF="mailto:stamer@uni-oldenburg.de">stamer@uni-oldenburg.de</A>
  University of Oldenburg           <A HREF="http://isn.uni-oldenburg.de/~stamer">http://isn.uni-oldenburg.de/~stamer</A>




</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000770.html">[OAI-implementers] XML encoding problems with DSpace at MIT
</A></li>
	<LI> Next message: <A HREF="000773.html">regular expressions for cleanup was: Re: [OAI-implementers] XML encoding problems with DSpace at MIT
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#768">[ date ]</a>
              <a href="thread.html#768">[ thread ]</a>
              <a href="subject.html#768">[ subject ]</a>
              <a href="author.html#768">[ author ]</a>
         </LI>
       </UL>
</body></html>
