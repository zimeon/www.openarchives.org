<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [OAI-implementers] handling unavailable data
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:hussein%40vt.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000070.html">
   <LINK REL="Next"  HREF="000072.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OAI-implementers] handling unavailable data
   </H1>
    <B>Hussein Suleman
    </B> 
    <A HREF="mailto:hussein%40vt.edu"
       TITLE="[OAI-implementers] handling unavailable data">hussein@vt.edu
       </A><BR>
    <I>Thu, 29 Mar 2001 12:41:38 -0800</I>
    <P><UL>
        <LI> Previous message: <A HREF="000070.html">[OAI-implementers] handling unavailable data
</A></li>
        <LI> Next message: <A HREF="000072.html">[OAI-implementers] handling unavailable data
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71">[ date ]</a>
              <a href="thread.html#71">[ thread ]</a>
              <a href="subject.html#71">[ subject ]</a>
              <a href="author.html#71">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hi

i would think returning empty lists is not a good idea because the
service provider could make long-term assumptions based on that - in the
case of ListMetadataFormats that there are none.

my suggestion would be to use HTTP error codes to indicate that the
server cannot respond because of some internal problem ... for example,
you could use &quot;503 Service unavailable&quot; and possibly return a
&quot;retry-after&quot; time, which supports  automatic harvesters quite nicely
(even the repository explorer will honor those) ... for completeness, if
you want a really solid interface, you might consider using some flavor
of upper-bounded exponential backoff so that the retry-after times
follow a 1,2,4,8,...,r sequence for subsequent requests while the
database is unavailable.

hope this helps ...

ttfn
----hussein

Ben Henley wrote:
&gt;<i> 
</I>&gt;<i>         I am currently implementing a simple OAI repository.
</I>&gt;<i>         I've looked through the specs but I can't find the answer to this
</I>&gt;<i> question:
</I>&gt;<i> 
</I>&gt;<i>         What is the recommended behaviour if data is temporarily
</I>&gt;<i> unavailable?
</I>&gt;<i>         For example, suppose I have the information about supported metadata
</I>&gt;<i> formats stored in an SQL accessible database table. An OAI agent makes a
</I>&gt;<i> request to my repository but the database is unavailable for some reason.
</I>&gt;<i>         In the reference implementation I've looked at (the ASP one), a
</I>&gt;<i> partial answer could be returned. ie. &lt;ListMetadataFormats&gt;, &lt;responseDate&gt;
</I>&gt;<i> and &lt;requestURL&gt; elements would be sent but not &lt;metadataFormat&gt;. As I
</I>&gt;<i> understand <A HREF="http://www.openarchives.org/OAI/1.0/OAI_ListMetadataFormats.xsd,">http://www.openarchives.org/OAI/1.0/OAI_ListMetadataFormats.xsd,</A>
</I>&gt;<i> the metadataFormat element is not compulsory (minOccurs=0).
</I>&gt;<i>         So a failure to retrieve any records could cause the repository to
</I>&gt;<i> lie by omission and say that it has no metadataFormats.
</I>&gt;<i>         Obviously the same could apply for other requests.
</I>&gt;<i> 
</I>&gt;<i>         Is this a real problem? If data is not available, should a request
</I>&gt;<i> be ignored or is there a special message to return? Or is it assumed that
</I>&gt;<i> clients will revisit archives so rare failures like this will be forgotten?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Ben Henley &lt;mailto:<A HREF="mailto:ben@biomedcentral.com">ben@biomedcentral.com</A>&gt;
</I>&gt;<i> Special Projects Editor
</I>&gt;<i> BioMed Central
</I>&gt;<i> <A HREF="http://www.biomedcentral.com">http://www.biomedcentral.com</A>
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> OAI-implementers mailing list
</I>&gt;<i> <A HREF="mailto:OAI-implementers@oaisrv.nsdl.cornell.edu">OAI-implementers@oaisrv.nsdl.cornell.edu</A>
</I>&gt;<i> <A HREF="http://oaisrv.nsdl.cornell.edu/mailman/listinfo/oai-implementers">http://oaisrv.nsdl.cornell.edu/mailman/listinfo/oai-implementers</A>
</I>
-- 
========================================================================
hussein suleman -- <A HREF="mailto:hussein@vt.edu">hussein@vt.edu</A> -- vtcs -- <A HREF="http://purl.org/net/hussein">http://purl.org/net/hussein</A>
========================================================================

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000070.html">[OAI-implementers] handling unavailable data
</A></li>
	<LI> Next message: <A HREF="000072.html">[OAI-implementers] handling unavailable data
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71">[ date ]</a>
              <a href="thread.html#71">[ thread ]</a>
              <a href="subject.html#71">[ subject ]</a>
              <a href="author.html#71">[ author ]</a>
         </LI>
       </UL>
</body></html>
