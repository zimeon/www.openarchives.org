<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [OAI-implementers] same xml namespace declaration in header and
	payload
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:oai-implementers%40openarchives.org?Subject=%5BOAI-implementers%5D%20same%20xml%20namespace%20declaration%20in%20header%20and%0A%09payload&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="002068.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OAI-implementers] same xml namespace declaration in header and
	payload</H1>
    <B>Timo Proescholdt</B> 
    <A HREF="mailto:oai-implementers%40openarchives.org?Subject=%5BOAI-implementers%5D%20same%20xml%20namespace%20declaration%20in%20header%20and%0A%09payload&In-Reply-To="
       TITLE="[OAI-implementers] same xml namespace declaration in header and
	payload">timo at proescholdt.de
       </A><BR>
    <I>Fri Sep 23 08:28:59 EDT 2011</I>
    <P><UL>
        
        <LI>Next message: <A HREF="002068.html">[OAI-implementers] same xml namespace declaration in header
	andpayload
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2067">[ date ]</a>
              <a href="thread.html#2067">[ thread ]</a>
              <a href="subject.html#2067">[ subject ]</a>
              <a href="author.html#2067">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear all,

the XML payload of an OAI response (GetRecord,ListRecords) can in certain
circumstances contain the same namespace declaration as the OAI header. If
the whole document (skeleton and payload) is treated as one DOM by the
provider, the additional namespace declaration in the payload is removed
(by any smart DOM library). A naive harvester, that only textwise cuts out
the payload out of the OAI response, will then encounter an invalid XML
document (with missing namespace declarations).

For instance, the OAI-PMH root element declares
xmlns:xsi=&quot;<A HREF="http://www.w3.org/2001/XMLSchema-instance&quot;.">http://www.w3.org/2001/XMLSchema-instance&quot;.</A> This is likely to
be also present in a XML document that is embedded as payload.

Considering that it is impossible to rid the world of naive harvesters,
the question is how an OAI provider should deal with this. Should it leave
two namespace declarations in the response? It is surprisingly difficult
to do this, because most DOM libraries automatically remove redundant
declarations.

how is this problem addressed out there?

thanks and best regards
Timo


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="002068.html">[OAI-implementers] same xml namespace declaration in header
	andpayload
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2067">[ date ]</a>
              <a href="thread.html#2067">[ thread ]</a>
              <a href="subject.html#2067">[ subject ]</a>
              <a href="author.html#2067">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.openarchives.org/mailman/listinfo/oai-implementers">More information about the OAI-implementers
mailing list</a><br>
</body></html>
