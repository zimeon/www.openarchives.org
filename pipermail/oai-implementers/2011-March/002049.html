<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [OAI-implementers] embedded xml / namespaces
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:oai-implementers%40openarchives.org?Subject=%5BOAI-implementers%5D%20embedded%20xml%20/%20namespaces&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002048.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OAI-implementers] embedded xml / namespaces</H1>
    <B>Timo Proescholdt</B> 
    <A HREF="mailto:oai-implementers%40openarchives.org?Subject=%5BOAI-implementers%5D%20embedded%20xml%20/%20namespaces&In-Reply-To="
       TITLE="[OAI-implementers] embedded xml / namespaces">timo at proescholdt.de
       </A><BR>
    <I>Tue Mar 29 07:42:30 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002048.html">[OAI-implementers] RE: OAI-implementers Digest, Vol 74, Issue 1
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2049">[ date ]</a>
              <a href="thread.html#2049">[ thread ]</a>
              <a href="subject.html#2049">[ subject ]</a>
              <a href="author.html#2049">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

when embedding xml in GetRecord and ListRecords responses one has to make
a decision on how to deal with namespaces. If a namespace is declared both
in the conatainer OAI xml and the embedded xml document, it is correct
behaviour for a xml library to remove the redundant inner declaration.
However, a naive harvester that just cuts out the embedded xml will loose
the namespace declaration, making the document invalid.

Different OAI providers implement different behaviour here. joai seems to
fully embed the xml document, without any changes to namespace
declarations. Other implementations, however, treat the oai response as a
full xml document, removing duplicate namespace declarations.

The following two links illustrate this. Both metadata records originally
defined a xsi xml schema namespace (although they are not the same
document). The OAI GetRecord response also defines xsi. In the first one
the embedded xml retains the xsi declaration, in the second it does not.

<A HREF="http://china2.dwd.de:8080/oai/provider?verb=GetRecord&amp;metadataPrefix=iso19139&amp;identifier=urn:x-wmo:md:int.wmo.wis.test3::ULBU01_LZSO">http://china2.dwd.de:8080/oai/provider?verb=GetRecord&amp;metadataPrefix=iso19139&amp;identifier=urn:x-wmo:md:int.wmo.wis.test3::ULBU01_LZSO</A>

<A HREF="http://openwis-oai.akka.eu/openwis-admin-portal/srv/en/oaipmh?verb=GetRecord&amp;identifier=urn:x-wmo:md:int.wmo.wis.test5::FKIO20FMEE&amp;metadataPrefix=iso19139">http://openwis-oai.akka.eu/openwis-admin-portal/srv/en/oaipmh?verb=GetRecord&amp;identifier=urn:x-wmo:md:int.wmo.wis.test5::FKIO20FMEE&amp;metadataPrefix=iso19139</A>

Does anyone have a guideline how xml that gets embedded into the OAI
response xml has to be treated namespace-wise?

best regards
Timo


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002048.html">[OAI-implementers] RE: OAI-implementers Digest, Vol 74, Issue 1
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2049">[ date ]</a>
              <a href="thread.html#2049">[ thread ]</a>
              <a href="subject.html#2049">[ subject ]</a>
              <a href="author.html#2049">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.openarchives.org/mailman/listinfo/oai-implementers">More information about the OAI-implementers
mailing list</a><br>
</body></html>
