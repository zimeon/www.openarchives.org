<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [OAI-implementers] Using dates other than metadata record
	creation date for data provider &quot;from&quot; and &quot;until&quot; searches
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:oai-implementers%40openarchives.org?Subject=%5BOAI-implementers%5D%20Using%20dates%20other%20than%20metadata%20record%0A%09creation%20date%20for%20data%20provider%20%22from%22%20and%20%22until%22%20searches&In-Reply-To=C4250A14.18F2F%25khage%40umich.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001842.html">
   <LINK REL="Next"  HREF="001845.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OAI-implementers] Using dates other than metadata record
	creation date for data provider &quot;from&quot; and &quot;until&quot; searches</H1>
    <B>Rob Tice</B> 
    <A HREF="mailto:oai-implementers%40openarchives.org?Subject=%5BOAI-implementers%5D%20Using%20dates%20other%20than%20metadata%20record%0A%09creation%20date%20for%20data%20provider%20%22from%22%20and%20%22until%22%20searches&In-Reply-To=C4250A14.18F2F%25khage%40umich.edu"
       TITLE="[OAI-implementers] Using dates other than metadata record
	creation date for data provider &quot;from&quot; and &quot;until&quot; searches">rob.tice at k-int.com
       </A><BR>
    <I>Fri Apr 11 14:29:47 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001842.html">[OAI-implementers] Using dates other than metadata record
	creation date for data provider &quot;from&quot; and &quot;until&quot; searches
</A></li>
        <LI>Next message: <A HREF="001845.html">[OAI-implementers] Using dates other than metadata record
	creation date for data provider &quot;from&quot; and &quot;until&quot; searches
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1844">[ date ]</a>
              <a href="thread.html#1844">[ thread ]</a>
              <a href="subject.html#1844">[ subject ]</a>
              <a href="author.html#1844">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Kat

I am not advocating a different harvesting methodology I am just approaching from a different perspective. In my 'OAI world' (and based on my experiences) not all targets are perfect and not all errors are recoverable. If all OAI targets were created equal and performed faultlessly then there would not be a strategy to discuss. 

My experience is that they aren't and that the devil (as with everything) is in the implementation. 

So as I see it the difference between 50 x 4000 and 1 x 200,000 is:

In the first scenario, you have an entirely complete OAI request after every 4000 records and any unrecoverable failure (of either the harvester or target) results in a re-harvest of 4000 records - worst case rollback 3999 records (even after 199,999 have been harvested) 

In the second scenario,  any unrecoverable failure results in a re-harvest of 200,000 records -  worst case rollback of 199,999 records. In addition the repository has to deal with the burden of persistence and resumption for a great deal longer which arguably increases both its workload and the chance of failure.

In our imperfect world and given that I am not a betting man I would always choose the first approach if it were available to me.

Does this make me a pessimist :) ?


Cheers

Rob









&gt;<i> -----Original Message-----
</I>&gt;<i> From: Kat Hagedorn [mailto:<A HREF="http://www.openarchives.org/mailman/listinfo/oai-implementers">khage at umich.edu</A>]
</I>&gt;<i> Sent: 11 April 2008 17:29
</I>&gt;<i> To: Rob Tice
</I>&gt;<i> Cc: <A HREF="http://www.openarchives.org/mailman/listinfo/oai-implementers">oai-implementers at openarchives.org</A>
</I>&gt;<i> Subject: Re: [OAI-implementers] Using dates other than metadata record
</I>&gt;<i> creation date for data provider &quot;from&quot; and &quot;until&quot; searches
</I>&gt;<i> 
</I>&gt;<i> Hi Rob,
</I>&gt;<i> 
</I>&gt;<i> But your harvester handles resumptionTokens, right? So, it's not 1 x
</I>&gt;<i> 200,000
</I>&gt;<i> requests if those 200,000 are broken into rTs of 500 each, say. I'm
</I>&gt;<i> interested in how your harvesting system is set up that makes it easier
</I>&gt;<i> to
</I>&gt;<i> harvest by multiple bounded date requests rather than one single
</I>&gt;<i> request.
</I>&gt;<i> 
</I>&gt;<i> We use a homegrown solution (<A HREF="http://sourceforge.net/umoaitoolkit">http://sourceforge.net/umoaitoolkit</A>) which
</I>&gt;<i> we've tweaked as time goes on to handle server outages and such, but we
</I>&gt;<i> don't have trouble with most of our large harvests, e.g., HighWire has
</I>&gt;<i> over
</I>&gt;<i> a million and as a rule takes about 8 hours to run from scratch.
</I>&gt;<i> 
</I>&gt;<i> Regards,
</I>&gt;<i>  -Kat
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On 4/11/08 12:20 PM, &quot;Rob Tice&quot; &lt;<A HREF="http://www.openarchives.org/mailman/listinfo/oai-implementers">rob.tice at k-int.com</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; Hi Kat
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I am not saying that harvesting software shouldn't be robust or be
</I>&gt;<i> able to
</I>&gt;<i> &gt; recover from errors (where possible). However, I still reckon that
</I>&gt;<i> &gt; performing some (pretty rudimentary) data analysis and adhering to a
</I>&gt;<i> few
</I>&gt;<i> &gt; basic principles when exposing your data, can make harvesting easier.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; In my experience as a harvester (when dealing with large
</I>&gt;<i> collections), I
</I>&gt;<i> &gt; would much rather set up an instruction to sequentially issue (for
</I>&gt;<i> example)
</I>&gt;<i> &gt; 50 date bounded requests (starting with the earliest date stamp from
</I>&gt;<i> the
</I>&gt;<i> &gt; identify response). 50 x 4000 is much better than 1 x 200,000 IMHO :)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Cheers
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Rob
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; -----Original Message-----
</I>&gt;<i> &gt;&gt; From: Kat Hagedorn [mailto:<A HREF="http://www.openarchives.org/mailman/listinfo/oai-implementers">khage at umich.edu</A>]
</I>&gt;<i> &gt;&gt; Sent: 11 April 2008 15:01
</I>&gt;<i> &gt;&gt; To: Rob Tice; <A HREF="http://www.openarchives.org/mailman/listinfo/oai-implementers">lisa at issuelab.com</A>
</I>&gt;<i> &gt;&gt; Cc: <A HREF="http://www.openarchives.org/mailman/listinfo/oai-implementers">oai-implementers at openarchives.org</A>
</I>&gt;<i> &gt;&gt; Subject: Re: [OAI-implementers] Using dates other than metadata
</I>&gt;<i> record
</I>&gt;<i> &gt;&gt; creation date for data provider &quot;from&quot; and &quot;until&quot; searches
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I&#185;m not sure I agree. Any robust harvester software should be able
</I>&gt;<i> to
</I>&gt;<i> &gt;&gt; *initially* harvest regardless of datestamp.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Problems such as network connectivity, etc. should be addressed in
</I>&gt;<i> the
</I>&gt;<i> &gt;&gt; harvesting software to allow as close to seamless harvesting as
</I>&gt;<i> &gt;&gt; possible.
</I>&gt;<i> &gt;&gt; For example, software should have a timeout feature that provides
</I>&gt;<i> for
</I>&gt;<i> &gt;&gt; network issues (e.g., waits 1 minute before trying again). If robust
</I>&gt;<i> &gt;&gt; software is not able to handle these problems, it&#185;s most likely an
</I>&gt;<i> &gt;&gt; issue on
</I>&gt;<i> &gt;&gt; the data provider side, in my experience.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Regards,
</I>&gt;<i> &gt;&gt;  -Kat
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; On 4/11/08 5:53 AM, &quot;Rob Tice&quot; &lt;<A HREF="http://www.openarchives.org/mailman/listinfo/oai-implementers">rob.tice at k-int.com</A>&gt; wrote:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Hi Lisa
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; I find that it is always helpful to put yourself in the shoes of
</I>&gt;<i> &gt;&gt; someone who
</I>&gt;<i> &gt;&gt;&gt; wants to harvest your data.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; If the smallest record count that can be obtained from your system
</I>&gt;<i> as
</I>&gt;<i> &gt;&gt; the
</I>&gt;<i> &gt;&gt;&gt; result of an initial OAI ListRecords request (including dates
</I>&gt;<i> and/or
</I>&gt;<i> &gt;&gt; sets) is
</I>&gt;<i> &gt;&gt;&gt; very large, it can be quite difficult for harvesting systems to
</I>&gt;<i> &gt;&gt; successfully
</I>&gt;<i> &gt;&gt;&gt; complete an &#338;initial population&#185; from your data without other
</I>&gt;<i> &gt;&gt; influences
</I>&gt;<i> &gt;&gt;&gt; (network  connectivity, target response time, resumption token
</I>&gt;<i> &gt;&gt; lifetime etc.)
</I>&gt;<i> &gt;&gt;&gt; having an increasing bearing on the successful outcome of the
</I>&gt;<i> &gt;&gt; harvest.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; For example, having a repository containing 200,000 records, all
</I>&gt;<i> &gt;&gt; dated the
</I>&gt;<i> &gt;&gt;&gt; same day and not supporting a request granularity of less than 1
</I>&gt;<i> day
</I>&gt;<i> &gt;&gt; makes
</I>&gt;<i> &gt;&gt;&gt; initial population more difficult for any harvesting system J.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; I do not know how many records you have so this may not be an issue
</I>&gt;<i> &gt;&gt; for you
</I>&gt;<i> &gt;&gt;&gt; but I think it is worth bearing in mind.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Cheers
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Rob
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; From: <A HREF="http://www.openarchives.org/mailman/listinfo/oai-implementers">oai-implementers-bounces at openarchives.org</A>
</I>&gt;<i> &gt;&gt;&gt; [mailto:<A HREF="http://www.openarchives.org/mailman/listinfo/oai-implementers">oai-implementers-bounces at openarchives.org</A>] On Behalf Of
</I>&gt;<i> &gt;&gt; Frederic
</I>&gt;<i> &gt;&gt;&gt; MERCEUR
</I>&gt;<i> &gt;&gt;&gt; Sent: 11 April 2008 07:41
</I>&gt;<i> &gt;&gt;&gt; To: <A HREF="http://www.openarchives.org/mailman/listinfo/oai-implementers">lisa at issuelab.com</A>
</I>&gt;<i> &gt;&gt;&gt; Cc: <A HREF="http://www.openarchives.org/mailman/listinfo/oai-implementers">oai-implementers at openarchives.org</A>
</I>&gt;<i> &gt;&gt;&gt; Subject: Re: [OAI-implementers] Using dates other than metadata
</I>&gt;<i> &gt;&gt; record
</I>&gt;<i> &gt;&gt;&gt; creation date for data provider &quot;from&quot; and &quot;until&quot; searches
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Hello,
</I>&gt;<i> &gt;&gt;&gt; As far as I understand the OAI protocol, I would rather say that
</I>&gt;<i> &gt;&gt; DateStamp is
</I>&gt;<i> &gt;&gt;&gt; about the last time that your record has been updated (which then
</I>&gt;<i> &gt;&gt; must reflect
</I>&gt;<i> &gt;&gt;&gt; &quot;create&quot;, &quot;update&quot; or &quot;delete&quot;).
</I>&gt;<i> &gt;&gt;&gt; When you will first register your archive into a Harvester, I guess
</I>&gt;<i> &gt;&gt; the
</I>&gt;<i> &gt;&gt;&gt; harvester will first get all records available. To do so, it will
</I>&gt;<i> &gt;&gt; query your
</I>&gt;<i> &gt;&gt;&gt; archive without the &quot;from&quot; and &quot;to&quot; parameter.
</I>&gt;<i> &gt;&gt;&gt; Then, most of harvesters will run regularly some incremental
</I>&gt;<i> &gt;&gt; harvesting to get
</I>&gt;<i> &gt;&gt;&gt; the records modified, deleted or added since the previous harvest.
</I>&gt;<i> To
</I>&gt;<i> &gt;&gt; do so
</I>&gt;<i> &gt;&gt;&gt; they will run the query with the &quot;from&quot; parameter.
</I>&gt;<i> &gt;&gt;&gt; Kind regards,
</I>&gt;<i> &gt;&gt;&gt; Fred
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Lisa M. Brooks a &#233;crit :
</I>&gt;<i> &gt;&gt;&gt; Hello - We're very close to launching our data provider. Before we
</I>&gt;<i> do
</I>&gt;<i> &gt;&gt; I have a
</I>&gt;<i> &gt;&gt;&gt; question about date-stamps.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; I understand that the &quot;from&quot; and &quot;until&quot; dates used to request
</I>&gt;<i> &gt;&gt; metadata
</I>&gt;<i> &gt;&gt;&gt; records refer to the date that the metadata record was created. We
</I>&gt;<i> &gt;&gt; are an
</I>&gt;<i> &gt;&gt;&gt; archive of research works that date back to the 1980s (we will
</I>&gt;<i> &gt;&gt; definitely get
</I>&gt;<i> &gt;&gt;&gt; even older works into our archive as we move forward). To my mind
</I>&gt;<i> it
</I>&gt;<i> &gt;&gt; would be
</I>&gt;<i> &gt;&gt;&gt; more helpful to folks if our record date-stamps reflect the date
</I>&gt;<i> the
</I>&gt;<i> &gt;&gt; research
</I>&gt;<i> &gt;&gt;&gt; work in question was first published.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; My concern is that we introduce our repository and harvesters don't
</I>&gt;<i> &gt;&gt; get the
</I>&gt;<i> &gt;&gt;&gt; gist of the temporal scope of our collection because everything is
</I>&gt;<i> &gt;&gt;&gt; date-stamped en masse with the date that we generate our metadata
</I>&gt;<i> &gt;&gt; records
</I>&gt;<i> &gt;&gt;&gt; (which, with luck, will be this Saturday).
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; I hope I'm making sense! Just want to know if this is a big no-no,
</I>&gt;<i> or
</I>&gt;<i> &gt;&gt; if there
</I>&gt;<i> &gt;&gt;&gt; are things to consider before doing something like this. Appreciate
</I>&gt;<i> &gt;&gt; the
</I>&gt;<i> &gt;&gt;&gt; insight of list participants.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Thanks for reading -
</I>&gt;<i> &gt;&gt;&gt; ~Lisa
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Lisa M. Brooks
</I>&gt;<i> &gt;&gt;&gt; IssueLab - bringing nonprofit research into focus
</I>&gt;<i> &gt;&gt;&gt; <A HREF="http://www.openarchives.org/mailman/listinfo/oai-implementers">lisa at issuelab.org</A>
</I>&gt;<i> &gt;&gt;&gt; 773-649-1790
</I>&gt;<i> &gt;&gt;&gt; <A HREF="http://www.issuelab.org">http://www.issuelab.org</A>
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; _______________________________________________
</I>&gt;<i> &gt;&gt;&gt; OAI-implementers mailing list
</I>&gt;<i> &gt;&gt;&gt; List information, archives, preferences and to unsubscribe:
</I>&gt;<i> &gt;&gt;&gt; <A HREF="http://www.openarchives.org/mailman/listinfo/oai-implementers">http://www.openarchives.org/mailman/listinfo/oai-implementers</A>
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; -------------------
</I>&gt;<i> &gt;&gt; Kat Hagedorn
</I>&gt;<i> &gt;&gt; OAIster/Metadata Harvesting Librarian
</I>&gt;<i> &gt;&gt; DLXS Bibliographic Class Coordinator
</I>&gt;<i> &gt;&gt; Digital Library Production Service
</I>&gt;<i> &gt;&gt; University of Michigan
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; <A HREF="http://www.oaister.org/">http://www.oaister.org/</A>
</I>&gt;<i> &gt;&gt; <A HREF="http://www.dlxs.org/">http://www.dlxs.org/</A>
</I>&gt;<i> &gt;&gt; email: <A HREF="http://www.openarchives.org/mailman/listinfo/oai-implementers">khage at umich.edu</A>
</I>&gt;<i> &gt;&gt; phone: 734-615-7618
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; No virus found in this incoming message.
</I>&gt;<i> &gt;&gt; Checked by AVG.
</I>&gt;<i> &gt;&gt; Version: 7.5.519 / Virus Database: 269.22.12/1372 - Release Date:
</I>&gt;<i> &gt;&gt; 10/04/2008 17:36
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; No virus found in this outgoing message.
</I>&gt;<i> &gt; Checked by AVG.
</I>&gt;<i> &gt; Version: 7.5.519 / Virus Database: 269.22.12/1372 - Release Date:
</I>&gt;<i> 10/04/2008
</I>&gt;<i> &gt; 17:36
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> -------------------
</I>&gt;<i> Kat Hagedorn
</I>&gt;<i> OAIster/Metadata Harvesting Librarian
</I>&gt;<i> DLXS Bibliographic Class Coordinator
</I>&gt;<i> Digital Library Production Service
</I>&gt;<i> University of Michigan
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://www.oaister.org/">http://www.oaister.org/</A>
</I>&gt;<i> <A HREF="http://www.dlxs.org/">http://www.dlxs.org/</A>
</I>&gt;<i> email: <A HREF="http://www.openarchives.org/mailman/listinfo/oai-implementers">khage at umich.edu</A>
</I>&gt;<i> phone: 734-615-7618
</I>&gt;<i> 
</I>&gt;<i> No virus found in this incoming message.
</I>&gt;<i> Checked by AVG.
</I>&gt;<i> Version: 7.5.519 / Virus Database: 269.22.12/1372 - Release Date:
</I>&gt;<i> 10/04/2008 17:36
</I>&gt;<i> 
</I>
No virus found in this outgoing message.
Checked by AVG. 
Version: 7.5.519 / Virus Database: 269.22.12/1372 - Release Date: 10/04/2008 17:36
 


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001842.html">[OAI-implementers] Using dates other than metadata record
	creation date for data provider &quot;from&quot; and &quot;until&quot; searches
</A></li>
	<LI>Next message: <A HREF="001845.html">[OAI-implementers] Using dates other than metadata record
	creation date for data provider &quot;from&quot; and &quot;until&quot; searches
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1844">[ date ]</a>
              <a href="thread.html#1844">[ thread ]</a>
              <a href="subject.html#1844">[ subject ]</a>
              <a href="author.html#1844">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.openarchives.org/mailman/listinfo/oai-implementers">More information about the OAI-implementers
mailing list</a><br>
</body></html>
