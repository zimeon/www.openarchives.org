<HTML>
<TITLE>Migration to OAI Protocol Version 1.1</Title>
<! -- Updated:  June 1, 2001 -- >
<! -- Last Updated:  June 19, 2001 -- >
<BODY bgcolor="#FFFFFF">
<H2>Migration to OAI Metadata Harvesting Protocol Version 1.1</H2>
<p>The <A href="http://www.w3.org/TR/xmlschema-0">XML Schema</A> 
specification reached <a href="http://www.w3c.org">W3C</a> recommendation 
status on May 2, 2001.  
This has repercussions for the OAI, because 
<a href="http://www.openarchives.org/OAI/1.0/openarchivesprotocol.htm">
version 1.0 of the Metadata Harvesting Protocol</a> 
built upon the <A href="http://www.w3.org/TR/2000/CR-xmlschema-0-20001024/">
October 2000 XML Schema specification</A>.
Therefore, a 
<a href="http://www.openarchives.org/OAI/1.1/openarchivesprotocol.htm">version 
1.1 of the Metadata Harvesting Protocol</a> has been created, 
that builds upon the
<a href="http://www.w3.org/TR/xmlschema-0">May 2001 XML Schema</a> 
specification.
</p><p>
This document summarizes the changes that OAI data providers
will need to implement in order to validate with 
<a href="http://www.w3.org/TR/xmlschema-0">XML Schema 2001</a> and 
<a href="http://www.openarchives.org/OAI/1.1/openarchivesprotocol.htm">OAI 
Protocol 1.1.</a>
This document will also help service providers obtain an understanding 
of the changes being made.
</P>
<h3>OAI protocol-replies</h3>
<P><b>First,</b> we list the changes to be made in the 
<b>XML instance documents</b>
sent in response to OAI Protocol requests.  
</P><P>
For replies to each verb, the following changes must be made
(substituting the actual verb for "&lt;verb&gt;" in the following):
<BR></P>
<TABLE border="0" cellpadding="2" cellspacing="1" vspace="2">
<TR>
<TD>-</TD><TD>1.0:</TD><TD><code>xmlns="http://www.openarchives.org/OAI/1.0/OAI_&lt;verb&gt;" </code></TD>
</TR><TR>
<TD></TD><TD><FONT color="red">1.1:</font></TD><TD><FONT color="red"><code><B>xmlns="http://www.openarchives.org/OAI/1.1/OAI_&lt;verb&gt;"</B></code></font></TD>
</TR><TR><TD>&nbsp;</TD></TR>
<TD>-</TD><TD>1.0:</TD><TD><code>xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance"</code></TD>
</TR><TR>
<TD></TD><TD><Font Color="red">1.1:</font></TD><TD><code><Font Color="red"><B>xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"</B></Font></code></TD>
</TR><TR><TD>&nbsp;</TD></TR>
<TD>-</TD><TD>1.0:</TD><TD>
<code>xsi:schemaLocation="http://www.openarchives.org/OAI/1.0/OAI_&lt;verb&gt;</code>
</TR><TR>
<TD></TD><TD></TD><TD>
<code>&nbsp;&nbsp;&nbsp;&nbsp;http://www.openarchives.org/OAI/1.0/OAI_&lt;verb&gt;.xsd"</code>
</TD>
</TR><TR>
<TD></TD><TD><FONT color="red">1.1:</font></TD><TD>
<code><FONT color="red"><B>xsi:schemaLocation="http://www.openarchives.org/OAI/1.1/OAI_&lt;verb&gt;</B></Font></code></TD>
</TR><TR>
<TD></TD><TD></TD><TD>
<code><FONT color="red"><B>&nbsp;&nbsp;&nbsp;&nbsp;http://www.openarchives.org/OAI/1.1/OAI_&lt;verb&gt;.xsd"</B></Font></code>
</TD>
</TR>
</TABLE>
<P>For replies to the Identify request, one additional change is necessary:
<P>
<TABLE border="0" cellpadding="2" cellspacing="1" vspace="2">
<TR>
<TD>-</TD><TD>1.0:</TD><TD>
<code>&lt;protocolVersion&gt;1.0&lt;/protocolVersion&gt;</code>
</TD></TR>
<TR>
<TD></TD><TD><FONT color="red">1.1:</Font></TD><TD>
<code><FONT color="red"><B>&lt;protocolVersion&gt;1.1&lt;/protocolVersion&gt;</B></Font></code></TD>
</TR></TABLE>
<h3>Other schema used by OAI data providers</h3>
<P>
<b>Next,</b> we list the changes that need to be made to <b>.xsd files</b>
involved in OAI communications, e.g. <B>.xsd</B> 
files defining protocol replies,
metadata schema, etc.
<!--If a data provider uses its own metadata schema in addition to the OAI schema,
the following change must be made to the .xsd file: -->
Each <b>.xsd</b> must be changed as follows:
</P>
<TABLE border="0" cellpadding="2" cellspacing="1" vspace="2">
<TR>
<TD>-</TD><TD>1.0:</TD><TD>
<code>&lt;schema xmlns="http://www.w3.org/2000/10/XMLSchema" ...</code>
</TD></TR>
<TR>
<TD></TD><TD><FONT color="red">1.1:</Font></TD><TD><code><Font color="red"><B>&lt;schema xmlns="http://www.w3.org/2001/XMLSchema" ...</B></Font></code></TD>
</TR></TABLE>
<P>Data providers who currently have their own <B>.xsd</B>
files will need to change them.  The files that need
changing include <B>.xsd</b> schemas defining the following 
metadata formats:
marc21, olac, arXivOld, arXiv, 
opcit-dc, and perseus.  
</P><P>
The OAI provides updated <B>.xsd</B> files in the protocol version 1.1
document: OAI_GetRecord.xsd, OAI_Identify.xsd, OAI_ListMetadataFormats.xsd,
OAI_ListSets.xsd, OAI_ListRecords.xsd, OAI_ListIdentifiers.xsd, dc.xsd,
eprints.xsd, oai-identifier.xsd, oai_marc.xsd, and rfc1807.xsd.  
</P>
<h3>Metadata and description schema defined by the OAI</h3>
<P>
Appendix 1 and 2 of
<a href="http://www.openarchives.org/OAI/1.0/openarchivesprotocol.htm">version
1.0 of the Metadata Harvesting Protocol</a> list 
<B>.xsd</B> files that comply to the
<a href="http://www.w3.org/TR/2000/CR-xmlschema-0-20001024/">October 2000
XML Schema specification</a>:
dc.xsd, rfc1807.xsd, oai_marc.xsd, oai-identifiers.xsd, and eprints.xsd).
The corresponding .xsd files are available at
http://www.openarchives.org/OAI/.  
</P><P>In
<a href="http://www.openarchives.org/OAI/1.1/openarchivesprotocol.htm">version
1.1 of the Metadata Harvesting Protocol</a> the updated
<B>.xsd</B> files will be stored at
http://www.openarchives.org/OAI/1.1/.
</P><P>
As a consequence of this directory change, 
instance documents that use elements defined in these 
revised schema will have to be modified as follows
<!--, in order to comply 
with the <a href="http://www.w3.org/TR/xmlschema-0">May 2001 XML Schema</a> 
specification -->
("&lt;foo&gt;" stands for dc, rfc1807, oai_marc,
oai-identifiers, eprints):
<BR></P>
<TABLE border="0" cellpadding="2" cellspacing="1" vspace="2">
<TR>
<TD>-</TD><TD>1.0:</TD><TD>
<code>xsi:schemaLocation="... http://www.openarchives.org/OAI/&lt;foo&gt;.xsd"&gt;</code>
</TD></TR>
<TR>
<TD></TD><TD><Font color="red">1.1:</Font></TD><TD>
<code><Font color="red"><B>xsi:schemaLocation="... http://www.openarchives.org/OAI/1.1/&lt;foo&gt;.xsd"</B></Font></code></TD>
</TR></TABLE>

<H3>Examples</H3>
Here are some OAI examples that have been modified to conform to the
XML Schema of May 2, 2001.  The new bits are colored in red.
<! -- FONT color="#ff40a0" -- >          <! -- #008080 is teal -- >
<h4>An XML instance document responding to the GetRecord request:</h4>
<pre>
&lt;GetRecord
  xmlns="http://www.openarchives.org/OAI/<Strong><Font color="red">1.1</Font></Strong>/OAI_GetRecord"   
  xmlns:xsi="http://www.w3.org/<STRONG><FONT color="red">2001</FONT></STRONG>/XMLSchema-instance"
  xsi:schemaLocation="http://www.openarchives.org/OAI/<Strong><Font color="red">1.1</Font></Strong>/OAI_GetRecord
	     http://www.openarchives.org/OAI/<STRONG><Font color="red">1.1</Font></Strong>/OAI_GetRecord.xsd">
     :
&lt;metadata&gt;
&lt;dc xmlns="http://purl.org/dc/elements/1.1/"
     xmlns:xsi="http://www.w3.org/<Strong><Font color="red">2001</Font></Strong>/XMLSchema-instance"
     xsi:schemaLocation="http://purl.org/dc/elements/1.1/
	 http://www.openarchives.org/OAI<Strong><Font color="red">/1.1</Font></Strong>/dc.xsd"&gt;
     :
&lt;/metadata&gt;
     :
&lt;/GetRecord&gt;
</pre>
<h4>A schema (.xsd document) for some community-defined metadata format:</h4>
<PRE>
&lt;schema xmlns="http://www.w3.org/<Strong><Font color="red">2001</Font></Strong>/XMLSchema"
   :
&lt;/schema&gt;

=====

July 1st 2001
</PRE>

</BODY>
</HTML>
